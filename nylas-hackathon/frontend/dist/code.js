/*! For license information please see code.js.LICENSE.txt */
(()=>{var e={"./node_modules/JSONStream/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/jsonparse/jsonparse.js"),r=n("./node_modules/through/index.js"),i=Buffer.from&&Buffer.from!==Uint8Array.from;function s(e,t){return"string"==typeof e?t==e:e&&"function"==typeof e.exec?e.exec(t):"boolean"==typeof e||"object"==typeof e?e:"function"==typeof e&&e(t)}t.parse=function(e,t){var n,a,l=new o,u=r((function(e){"string"==typeof e&&(e=i?Buffer.from(e):new Buffer(e)),l.write(e)}),(function(e){e&&u.write(e),n&&u.emit("header",n),a&&u.emit("footer",a),u.queue(null)}));"string"==typeof e&&(e=e.split(".").map((function(e){return"$*"===e?{emitKey:!0}:"*"===e||(""===e?{recurse:!0}:e)})));return e&&e.length||(e=null),l.onValue=function(o){if(this.root||(u.root=o),e){for(var r=0,i=0,a=!1,l=!1;r<e.length;){var d,f=e[r];if(i++,f&&!f.recurse){if(!(d=i===this.stack.length?this:this.stack[i]))return;if(!s(f,d.key))return void c(d.key,o);a=!!f.emitKey,l=!!f.emitPath,r++}else{r++;var p=e[r];if(!p)return;for(;;){if(!(d=i===this.stack.length?this:this.stack[i]))return;if(s(p,d.key)){r++,Object.isFrozen(this.stack[i])||(this.stack[i].value=null);break}c(d.key,o),i++}}}if(n&&(u.emit("header",n),n=!1),i===this.stack.length){0;var h=this.stack.slice(1).map((function(e){return e.key})).concat([this.key]),y=o;for(var m in null!=y&&null!=(y=t?t(y,h):y)&&((a||l)&&(y={value:y},a&&(y.key=this.key),l&&(y.path=h)),u.queue(y)),this.value&&delete this.value[this.key],this.stack)Object.isFrozen(this.stack[m])||(this.stack[m].value=null)}}},l._onToken=l.onToken,l.onToken=function(t,n){l._onToken(t,n),0===this.stack.length&&u.root&&(e||u.queue(u.root),0,u.root=null)},l.onError=function(e){e.message.indexOf("at position")>-1&&(e.message="Invalid JSON ("+e.message+")"),u.emit("error",e)},u;function c(e,t){!1!==n&&((n=n||{})[e]=t),!1!==a&&!1===n&&((a=a||{})[e]=t)}},t.stringify=function(e,t,n,o){o=o||0,!1===e?(e="",t="\n",n=""):null==e&&(e="[\n",t="\n,\n",n="\n]\n");var i,s=!0,a=!1;return i=r((function(n){a=!0;try{var r=JSON.stringify(n,null,o)}catch(e){return i.emit("error",e)}s?(s=!1,i.queue(e+r)):i.queue(t+r)}),(function(t){a||i.queue(e),i.queue(n),i.queue(null)}))},t.stringifyObject=function(e,t,n,o){o=o||0,!1===e?(e="",t="\n",n=""):null==e&&(e="{\n",t="\n,\n",n="\n}\n");var i=!0,s=!1;return r((function(n){s=!0;var r=JSON.stringify(n[0])+":"+JSON.stringify(n[1],null,o);i?(i=!1,this.queue(e+r)):this.queue(t+r)}),(function(t){s||this.queue(e),this.queue(n),this.queue(null)}))}},"./node_modules/abort-controller/browser.js":e=>{"use strict";const{AbortController:t,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=n,e.exports.default=t},"./node_modules/backoff/index.js":(e,t,n)=>{var o=n("./node_modules/backoff/lib/backoff.js"),r=n("./node_modules/backoff/lib/strategy/exponential.js"),i=n("./node_modules/backoff/lib/strategy/fibonacci.js"),s=n("./node_modules/backoff/lib/function_call.js");e.exports.Backoff=o,e.exports.FunctionCall=s,e.exports.FibonacciStrategy=i,e.exports.ExponentialStrategy=r,e.exports.fibonacci=function(e){return new o(new i(e))},e.exports.exponential=function(e){return new o(new r(e))},e.exports.call=function(e,t,n){var o=Array.prototype.slice.call(arguments);return e=o[0],t=o.slice(1,o.length-1),n=o[o.length-1],new s(e,t,n)}},"./node_modules/backoff/lib/backoff.js":(e,t,n)=>{var o=n("./node_modules/events/events.js"),r=n("./node_modules/precond/index.js");function i(e){o.EventEmitter.call(this),this.backoffStrategy_=e,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}n("./node_modules/util/util.js").inherits(i,o.EventEmitter),i.prototype.failAfter=function(e){r.checkArgument(e>0,"Expected a maximum number of retry greater than 0 but got %s.",e),this.maxNumberOfRetry_=e},i.prototype.backoff=function(e){r.checkState(-1===this.timeoutID_,"Backoff in progress."),this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",e),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,e))},i.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},i.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},e.exports=i},"./node_modules/backoff/lib/function_call.js":(e,t,n)=>{var o=n("./node_modules/events/events.js"),r=n("./node_modules/precond/index.js"),i=n("./node_modules/util/util.js"),s=n("./node_modules/backoff/lib/backoff.js"),a=n("./node_modules/backoff/lib/strategy/fibonacci.js");function l(e,t,n){o.EventEmitter.call(this),r.checkIsFunction(e,"Expected fn to be a function."),r.checkIsArray(t,"Expected args to be an array."),r.checkIsFunction(n,"Expected callback to be a function."),this.function_=e,this.arguments_=t,this.callback_=n,this.lastResult_=[],this.numRetries_=0,this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.retryPredicate_=l.DEFAULT_RETRY_PREDICATE_,this.state_=l.State_.PENDING}i.inherits(l,o.EventEmitter),l.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},l.DEFAULT_RETRY_PREDICATE_=function(e){return!0},l.prototype.isPending=function(){return this.state_==l.State_.PENDING},l.prototype.isRunning=function(){return this.state_==l.State_.RUNNING},l.prototype.isCompleted=function(){return this.state_==l.State_.COMPLETED},l.prototype.isAborted=function(){return this.state_==l.State_.ABORTED},l.prototype.setStrategy=function(e){return r.checkState(this.isPending(),"FunctionCall in progress."),this.strategy_=e,this},l.prototype.retryIf=function(e){return r.checkState(this.isPending(),"FunctionCall in progress."),this.retryPredicate_=e,this},l.prototype.getLastResult=function(){return this.lastResult_.concat()},l.prototype.getNumRetries=function(){return this.numRetries_},l.prototype.failAfter=function(e){return r.checkState(this.isPending(),"FunctionCall in progress."),this.failAfter_=e,this},l.prototype.abort=function(){this.isCompleted()||this.isAborted()||(this.isRunning()&&this.backoff_.reset(),this.state_=l.State_.ABORTED,this.lastResult_=[new Error("Backoff aborted.")],this.emit("abort"),this.doCallback_())},l.prototype.start=function(e){r.checkState(!this.isAborted(),"FunctionCall is aborted."),r.checkState(this.isPending(),"FunctionCall already started.");var t=this.strategy_||new a;this.backoff_=e?e(t):new s(t),this.backoff_.on("ready",this.doCall_.bind(this,!0)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=l.State_.RUNNING,this.doCall_(!1)},l.prototype.doCall_=function(e){e&&this.numRetries_++;var t=["call"].concat(this.arguments_);o.EventEmitter.prototype.emit.apply(this,t);var n=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(n))},l.prototype.doCallback_=function(){this.callback_.apply(null,this.lastResult_)},l.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var e=Array.prototype.slice.call(arguments);this.lastResult_=e,o.EventEmitter.prototype.emit.apply(this,["callback"].concat(e));var t=e[0];t&&this.retryPredicate_(t)?this.backoff_.backoff(t):(this.state_=l.State_.COMPLETED,this.doCallback_())}},l.prototype.handleBackoff_=function(e,t,n){this.emit("backoff",e,t,n)},e.exports=l},"./node_modules/backoff/lib/strategy/exponential.js":(e,t,n)=>{var o=n("./node_modules/util/util.js"),r=n("./node_modules/precond/index.js"),i=n("./node_modules/backoff/lib/strategy/strategy.js");function s(e){i.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay(),this.factor_=s.DEFAULT_FACTOR,e&&void 0!==e.factor&&(r.checkArgument(e.factor>1,"Exponential factor should be greater than 1 but got %s.",e.factor),this.factor_=e.factor)}o.inherits(s,i),s.DEFAULT_FACTOR=2,s.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=this.backoffDelay_*this.factor_,this.backoffDelay_},s.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},e.exports=s},"./node_modules/backoff/lib/strategy/fibonacci.js":(e,t,n)=>{var o=n("./node_modules/util/util.js"),r=n("./node_modules/backoff/lib/strategy/strategy.js");function i(e){r.call(this,e),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}o.inherits(i,r),i.prototype.next_=function(){var e=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=e,e},i.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},e.exports=i},"./node_modules/backoff/lib/strategy/strategy.js":(e,t,n)=>{n("./node_modules/events/events.js"),n("./node_modules/util/util.js");function o(e){return null!=e}function r(e){if(o((e=e||{}).initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(o(e.maxDelay)&&e.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=e.initialDelay||100,this.maxDelay_=e.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(o(e.randomisationFactor)&&(e.randomisationFactor<0||e.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=e.randomisationFactor||0}r.prototype.getMaxDelay=function(){return this.maxDelay_},r.prototype.getInitialDelay=function(){return this.initialDelay_},r.prototype.next=function(){var e=this.next_(),t=1+Math.random()*this.randomisationFactor_;return Math.round(e*t)},r.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},r.prototype.reset=function(){this.reset_()},r.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},e.exports=r},"./node_modules/call-bind/callBound.js":(e,t,n)=>{"use strict";var o=n("./node_modules/get-intrinsic/index.js"),r=n("./node_modules/call-bind/index.js"),i=r(o("String.prototype.indexOf"));e.exports=function(e,t){var n=o(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?r(n):n}},"./node_modules/call-bind/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/function-bind/index.js"),r=n("./node_modules/get-intrinsic/index.js"),i=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||o.call(s,i),l=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(o,s,arguments);if(l&&u){var n=l(t,"length");n.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var d=function(){return a(o,i,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},"./node_modules/emitter-component/index.js":e=>{function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},t.prototype.once=function(e,t){var n=this;function o(){n.off(e,o),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},o.fn=t,this.on(e,o),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks[e];if(!o)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r=0;r<o.length;r++)if((n=o[r])===t||n.fn===t){o.splice(r,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"./node_modules/events/events.js":e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,o){function r(n){e.removeListener(t,i),o(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}y(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,n)}(e,r,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,o){var r,i,s,u;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=o?[n,s]:[s,n]:o?s.unshift(n):s.push(n),(r=l(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=c.bind(o);return r.listener=n,o.wrapFn=r,r}function f(e,t,n){var o=e._events;if(void 0===o)return[];var r=o[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):h(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),o=0;o<t;++o)n[o]=e[o];return n}function y(e,t,n,o){if("function"==typeof e.on)o.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(i){o.once&&e.removeEventListener(t,r),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=h(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,o,r,i,s;if(a(t),void 0===(o=this._events))return this;if(void 0===(n=o[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,r=i;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(o[e]=n[0]),void 0!==o.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,o;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,i=Object.keys(n);for(o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},"./node_modules/for-each/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/is-callable/index.js"),r=Object.prototype.toString,i=Object.prototype.hasOwnProperty,s=function(e,t,n){for(var o=0,r=e.length;o<r;o++)i.call(e,o)&&(null==n?t(e[o],o,e):t.call(n,e[o],o,e))},a=function(e,t,n){for(var o=0,r=e.length;o<r;o++)null==n?t(e.charAt(o),o,e):t.call(n,e.charAt(o),o,e)},l=function(e,t,n){for(var o in e)i.call(e,o)&&(null==n?t(e[o],o,e):t.call(n,e[o],o,e))};e.exports=function(e,t,n){if(!o(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),"[object Array]"===r.call(e)?s(e,t,i):"string"==typeof e?a(e,t,i):l(e,t,i)}},"./node_modules/form-data/lib/browser.js":e=>{e.exports="object"==typeof self?self.FormData:window.FormData},"./node_modules/function-bind/implementation.js":e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,r="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||o.call(i)!==r)throw new TypeError(t+i);for(var s,a=n.call(arguments,1),l=function(){if(this instanceof s){var t=i.apply(this,a.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,a.concat(n.call(arguments)))},u=Math.max(0,i.length-a.length),c=[],d=0;d<u;d++)c.push("$"+d);if(s=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var f=function(){};f.prototype=i.prototype,s.prototype=new f,f.prototype=null}return s}},"./node_modules/function-bind/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/function-bind/implementation.js");e.exports=Function.prototype.bind||o},"./node_modules/get-intrinsic/index.js":(e,t,n)=>{"use strict";var o,r=SyntaxError,i=Function,s=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new s},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,d=n("./node_modules/has-symbols/index.js")(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"==typeof Uint8Array?o:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):o,"%JSON%":"object"==typeof JSON?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?f((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?f((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(""[Symbol.iterator]()):o,"%Symbol%":d?Symbol:o,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet},m=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var o=e("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=f(r.prototype))}return y[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n("./node_modules/function-bind/index.js"),v=n("./node_modules/has/src/index.js"),g=b.call(Function.call,Array.prototype.concat),j=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),O=b.call(Function.call,String.prototype.slice),w=b.call(Function.call,RegExp.prototype.exec),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,P=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return S(e,K,(function(e,t,n,r){o[o.length]=n?S(r,A,"$1"):t||e})),o},E=function(e,t){var n,o=e;if(v(_,o)&&(o="%"+(n=_[o])[0]+"%"),v(y,o)){var i=y[o];if(i===p&&(i=m(o)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:i}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===w(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=P(e),o=n.length>0?n[0]:"",i=E("%"+o+"%",t),a=i.name,u=i.value,c=!1,d=i.alias;d&&(o=d[0],j(n,g([0,1],d)));for(var f=1,p=!0;f<n.length;f+=1){var h=n[f],m=O(h,0,1),_=O(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===_||"'"===_||"`"===_)&&m!==_)throw new r("property names with quotes must have matching quotes");if("constructor"!==h&&p||(c=!0),v(y,a="%"+(o+="."+h)+"%"))u=y[a];else if(null!=u){if(!(h in u)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=n.length){var b=l(u,h);u=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:u[h]}else p=v(u,h),u=u[h];p&&!c&&(y[a]=u)}}return u}},"./node_modules/gopd/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/get-intrinsic/index.js")("%Object.getOwnPropertyDescriptor%",!0);if(o)try{o([],"length")}catch(e){o=null}e.exports=o},"./node_modules/has-symbols/index.js":(e,t,n)=>{"use strict";var o="undefined"!=typeof Symbol&&Symbol,r=n("./node_modules/has-symbols/shams.js");e.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"==typeof o("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},"./node_modules/has-symbols/shams.js":e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},"./node_modules/has-tostringtag/shams.js":(e,t,n)=>{"use strict";var o=n("./node_modules/has-symbols/shams.js");e.exports=function(){return o()&&!!Symbol.toStringTag}},"./node_modules/has/src/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/function-bind/index.js");e.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},"./node_modules/inherits/inherits_browser.js":e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},"./node_modules/is-arguments/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/has-tostringtag/shams.js")(),r=n("./node_modules/call-bind/callBound.js")("Object.prototype.toString"),i=function(e){return!(o&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r(e)},s=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r(e)&&"[object Function]"===r(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,e.exports=a?i:s},"./node_modules/is-callable/index.js":e=>{"use strict";var t,n,o=Function.prototype.toString,r="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof r&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},r((function(){throw 42}),null,t)}catch(e){e!==n&&(r=null)}else r=null;var i=/^\s*class\b/,s=function(e){try{var t=o.call(e);return i.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(o.call(e),!0)}catch(e){return!1}},l=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,c=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var f=document.all;l.call(f)===l.call(document.all)&&(d=function(e){if((c||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=r?function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{r(e,null,t)}catch(e){if(e!==n)return!1}return!s(e)&&a(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return a(e);if(s(e))return!1;var t=l.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},"./node_modules/is-generator-function/index.js":(e,t,n)=>{"use strict";var o,r=Object.prototype.toString,i=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=n("./node_modules/has-tostringtag/shams.js")(),l=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(i.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===r.call(e);if(!l)return!1;if(void 0===o){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();o=!!t&&l(t)}return l(e)===o}},"./node_modules/is-typed-array/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/which-typed-array/index.js");e.exports=function(e){return!!o(e)}},"./node_modules/jsonparse/jsonparse.js":e=>{var t={},n=t.LEFT_BRACE=1,o=t.RIGHT_BRACE=2,r=t.LEFT_BRACKET=3,i=t.RIGHT_BRACKET=4,s=t.COLON=5,a=t.COMMA=6,l=t.TRUE=7,u=t.FALSE=8,c=t.NULL=9,d=t.STRING=10,f=t.NUMBER=11,p=t.START=17,h=t.STOP=18,y=t.TRUE1=33,m=t.TRUE2=34,_=t.TRUE3=35,b=t.FALSE1=49,v=t.FALSE2=50,g=t.FALSE3=51,j=t.FALSE4=52,S=t.NULL1=65,O=t.NULL2=66,w=t.NULL3=67,K=t.NUMBER1=81,A=t.NUMBER3=83,P=t.STRING1=97,E=t.STRING2=98,k=t.STRING3=99,T=t.STRING4=100,x=t.STRING5=101,I=t.STRING6=102,N=t.VALUE=113,C=t.KEY=114,M=t.OBJECT=129,D=t.ARRAY=130,R="\\".charCodeAt(0),B="/".charCodeAt(0),q="\b".charCodeAt(0),U="\f".charCodeAt(0),L="\n".charCodeAt(0),F="\r".charCodeAt(0),J="\t".charCodeAt(0),z=65536;function G(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=Buffer.alloc?Buffer.alloc(z):new Buffer(z),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=N,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.offset=-1}G.toknam=function(e){for(var n=Object.keys(t),o=0,r=n.length;o<r;o++){var i=n[o];if(t[i]===e)return i}return e&&"0x"+e.toString(16)};var V=G.prototype;V.onError=function(e){throw e},V.charError=function(e,t){this.tState=h,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+G.toknam(this.tState)))},V.appendStringChar=function(e){this.stringBufferOffset>=z&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},V.appendStringBuf=function(e,t,n){var o=e.length;"number"==typeof t&&(o="number"==typeof n?n<0?e.length-t+n:n-t:e.length-t),o<0&&(o=0),this.stringBufferOffset+o>z&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,n),this.stringBufferOffset+=o},V.write=function(e){var t;"string"==typeof e&&(e=new Buffer(e));for(var h=0,N=e.length;h<N;h++)if(this.tState===p){if(t=e[h],this.offset++,123===t)this.onToken(n,"{");else if(125===t)this.onToken(o,"}");else if(91===t)this.onToken(r,"[");else if(93===t)this.onToken(i,"]");else if(58===t)this.onToken(s,":");else if(44===t)this.onToken(a,",");else if(116===t)this.tState=y;else if(102===t)this.tState=b;else if(110===t)this.tState=S;else if(34===t)this.string="",this.stringBufferOffset=0,this.tState=P;else if(45===t)this.string="-",this.tState=K;else if(t>=48&&t<64)this.string=String.fromCharCode(t),this.tState=A;else if(32!==t&&9!==t&&10!==t&&13!==t)return this.charError(e,h)}else if(this.tState===P)if(t=e[h],this.bytes_remaining>0){for(var C=0;C<this.bytes_remaining;C++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+C]=e[C];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,h=h+C-1}else if(0===this.bytes_remaining&&t>=128){if(t<=193||t>244)return this.onError(new Error("Invalid UTF-8 character at position "+h+" in state "+G.toknam(this.tState)));if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+h>e.length){for(var M=0;M<=e.length-1-h;M++)this.temp_buffs[this.bytes_in_sequence][M]=e[h+M];this.bytes_remaining=h+this.bytes_in_sequence-e.length,h=e.length-1}else this.appendStringBuf(e,h,h+this.bytes_in_sequence),h=h+this.bytes_in_sequence-1}else if(34===t)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(d,this.string),this.offset+=Buffer.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===t)this.tState=E;else{if(!(t>=32))return this.charError(e,h);this.appendStringChar(t)}else if(this.tState===E)if(34===(t=e[h]))this.appendStringChar(t),this.tState=P;else if(92===t)this.appendStringChar(R),this.tState=P;else if(47===t)this.appendStringChar(B),this.tState=P;else if(98===t)this.appendStringChar(q),this.tState=P;else if(102===t)this.appendStringChar(U),this.tState=P;else if(110===t)this.appendStringChar(L),this.tState=P;else if(114===t)this.appendStringChar(F),this.tState=P;else if(116===t)this.appendStringChar(J),this.tState=P;else{if(117!==t)return this.charError(e,h);this.unicode="",this.tState=k}else if(this.tState===k||this.tState===T||this.tState===x||this.tState===I){if(!((t=e[h])>=48&&t<64||t>64&&t<=70||t>96&&t<=102))return this.charError(e,h);if(this.unicode+=String.fromCharCode(t),this.tState++===I){var D=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&D>=56320&&D<57344?(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate,D))),this.highSurrogate=void 0):void 0===this.highSurrogate&&D>=55296&&D<56320?this.highSurrogate=D:(void 0!==this.highSurrogate&&(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new Buffer(String.fromCharCode(D)))),this.tState=P}}else if(this.tState===K||this.tState===A)switch(t=e[h]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(t),this.tState=A;break;default:this.tState=p;var z=Number(this.string);if(isNaN(z))return this.charError(e,h);this.string.match(/[0-9]+/)==this.string&&z.toString()!=this.string?this.onToken(d,this.string):this.onToken(f,z),this.offset+=this.string.length-1,this.string=void 0,h--}else if(this.tState===y){if(114!==e[h])return this.charError(e,h);this.tState=m}else if(this.tState===m){if(117!==e[h])return this.charError(e,h);this.tState=_}else if(this.tState===_){if(101!==e[h])return this.charError(e,h);this.tState=p,this.onToken(l,!0),this.offset+=3}else if(this.tState===b){if(97!==e[h])return this.charError(e,h);this.tState=v}else if(this.tState===v){if(108!==e[h])return this.charError(e,h);this.tState=g}else if(this.tState===g){if(115!==e[h])return this.charError(e,h);this.tState=j}else if(this.tState===j){if(101!==e[h])return this.charError(e,h);this.tState=p,this.onToken(u,!1),this.offset+=4}else if(this.tState===S){if(117!==e[h])return this.charError(e,h);this.tState=O}else if(this.tState===O){if(108!==e[h])return this.charError(e,h);this.tState=w}else if(this.tState===w){if(108!==e[h])return this.charError(e,h);this.tState=p,this.onToken(c,null),this.offset+=3}},V.onToken=function(e,t){},V.parseError=function(e,t){this.tState=h,this.onError(new Error("Unexpected "+G.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+G.toknam(this.state)))},V.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},V.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=N)},V.emit=function(e){this.mode&&(this.state=a),this.onValue(e)},V.onValue=function(e){},V.onToken=function(e,t){if(this.state===N)if(e===d||e===f||e===l||e===u||e===c)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===n)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=C,this.mode=M;else if(e===r)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=D,this.state=N;else if(e===o){if(this.mode!==M)return this.parseError(e,t);this.pop()}else{if(e!==i)return this.parseError(e,t);if(this.mode!==D)return this.parseError(e,t);this.pop()}else if(this.state===C)if(e===d)this.key=t,this.state=s;else{if(e!==o)return this.parseError(e,t);this.pop()}else if(this.state===s){if(e!==s)return this.parseError(e,t);this.state=N}else{if(this.state!==a)return this.parseError(e,t);if(e===a)this.mode===D?(this.key++,this.state=N):this.mode===M&&(this.state=C);else{if(!(e===i&&this.mode===D||e===o&&this.mode===M))return this.parseError(e,t);this.pop()}}},G.C=t,e.exports=G},"./node_modules/node-fetch/browser.js":(e,t,n)=>{"use strict";var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=o.fetch,o.fetch&&(t.default=o.fetch.bind(o)),t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response},"./node_modules/nylas/lib/config.js":(e,t,n)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./node_modules/nylas/lib/models/webhook.js");t.apiServer=null,t.setApiServer=function(e){t.apiServer=e},t.clientSecret="",t.setClientSecret=function(e){t.clientSecret=e},t.timeout=0,t.setTimeout=function(e){t.timeout=e},function(e){e.CODE="code",e.TOKEN="token"}(t.ResponseType||(t.ResponseType={})),function(e){e.Us="us",e.Ireland="ireland"}(r=t.Region||(t.Region={})),t.DEFAULT_REGION=r.Us,t.regionConfig=((o={})[r.Us]={nylasAPIUrl:"https://api.nylas.com",dashboardApiUrl:"https://dashboard-api.nylas.com",callbackDomain:"cb.nylas.com",websocketDomain:"tunnel.nylas.com",telemetryApiUrl:"https://cli.nylas.com"},o[r.Ireland]={nylasAPIUrl:"https://ireland.api.nylas.com",dashboardApiUrl:"https://ireland.dashboard.nylas.com",callbackDomain:"cb.nylas.com",websocketDomain:"tunnel.nylas.com",telemetryApiUrl:"https://cli.nylas.com"},o),t.DEFAULT_WEBHOOK_TRIGGERS=Object.values(i.WebhookTriggers)},"./node_modules/nylas/lib/models/access-token.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/model.js")),a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=function(e){function t(t){var n=e.call(this)||this;return n.accessToken="",n.accountId="",n.emailAddress="",n.provider="",n.tokenType="bearer",n.initAttributes(t),n}return r(t,e),t.attributes={accessToken:a.default.String({modelKey:"accessToken",jsonKey:"access_token"}),accountId:a.default.String({modelKey:"accountId",jsonKey:"account_id"}),emailAddress:a.default.String({modelKey:"emailAddress",jsonKey:"email_address"}),provider:a.default.String({modelKey:"provider"}),tokenType:a.default.String({modelKey:"tokenType",jsonKey:"token_type"})},t}(s.default);t.default=l},"./node_modules/nylas/lib/models/account.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.name="",o.emailAddress="",o.provider="",o.organizationUnit="",o.syncState="",o.linkedAt=new Date,o.accessToken="",o.initAttributes(n),o}return r(t,e),t.collectionName="accounts",t.endpointName="account",t.attributes=i(i({},a.default.attributes),{name:l.default.String({modelKey:"name"}),emailAddress:l.default.String({modelKey:"emailAddress",jsonKey:"email_address"}),provider:l.default.String({modelKey:"provider"}),organizationUnit:l.default.String({modelKey:"organizationUnit",jsonKey:"organization_unit"}),syncState:l.default.String({modelKey:"syncState",jsonKey:"sync_state"}),billingState:l.default.String({modelKey:"billingState",jsonKey:"billing_state"}),linkedAt:l.default.DateTime({modelKey:"linkedAt",jsonKey:"linked_at"}),accessToken:l.default.String({modelKey:"accessToken",jsonKey:"access_token"})}),t}(a.default);t.default=u},"./node_modules/nylas/lib/models/application-details.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/model.js")),a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=function(e){function t(t){var n=e.call(this)||this;return n.applicationName="",n.iconUrl="",n.redirectUris=[],n.initAttributes(t),n}return r(t,e),t.attributes={applicationName:a.default.String({modelKey:"applicationName",jsonKey:"application_name"}),iconUrl:a.default.String({modelKey:"iconUrl",jsonKey:"icon_url"}),redirectUris:a.default.StringList({modelKey:"redirectUris",jsonKey:"redirect_uris"})},t}(s.default);t.default=l},"./node_modules/nylas/lib/models/attributes.js":function(e,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o};function i(e){return void 0!==e.endpointName&&void 0!==e.collectionName}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){var t=e.modelKey,n=e.jsonKey,o=e.readOnly;this.modelKey=t,this.jsonKey=n||t,this.readOnly=o||!1}return e.prototype.saveRequestBody=function(e){if(!this.readOnly)return this.toJSON(e)},e}();t.Attribute=s;var a=function(e){function t(t){var n=t.modelKey,o=t.jsonKey,r=t.itemClass,i=t.readOnly,s=e.call(this,{modelKey:n,jsonKey:o,readOnly:i})||this;return s.itemClass=r,s}return o(t,e),t.prototype.toJSON=function(e,t){return e?!0===t&&null!=e.saveRequestBody?e.saveRequestBody():null!=e.toJSON?e.toJSON():e:e},t.prototype.fromJSON=function(e,t){return e&&this.itemClass?i(this.itemClass)?new this.itemClass(t.connection,e).fromJSON(e):new this.itemClass(e).fromJSON(e):e},t.prototype.saveRequestBody=function(e){if(!this.readOnly)return this.toJSON(e,!0)},t}(s),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toJSON=function(e){return e},t.prototype.fromJSON=function(e){return isNaN(Number(e))?null:Number(e)},t}(s),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toJSON=function(e){return e},t.prototype.fromJSON=function(e,t){if(!(e&&e instanceof Array))return[];var n=[];for(var o in e)isNaN(Number(o))||n.push(Number(o));return n},t}(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toJSON=function(e){return e},t.prototype.fromJSON=function(e){return"true"===e||!0===e||!1},t}(s),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toJSON=function(e){return e},t.prototype.fromJSON=function(e){return e||""},t}(s),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toJSON=function(e){return e},t.prototype.fromJSON=function(e){return e||[]},t}(s),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toJSON=function(e){if(!e)return e;if(!(e instanceof Date))throw new Error("Attempting to toJSON AttributeDate which is not a date:\n          "+this.modelKey+"\n         = "+e);return e.toISOString()},t.prototype.fromJSON=function(e,t){return e?new Date(e):null},t}(s),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toJSON=function(e){if(!e)return null;if(!(e instanceof Date))throw new Error("Attempting to toJSON AttributeDateTime which is not a date:\n          "+this.modelKey+"\n        = "+e);return e.getTime()/1e3},t.prototype.fromJSON=function(e,t){return e?new Date(1e3*e):null},t}(s),y=function(e){function t(t){var n=t.modelKey,o=t.jsonKey,r=t.itemClass,i=t.readOnly,s=e.call(this,{modelKey:n,jsonKey:o,readOnly:i})||this;return s.itemClass=r,s}return o(t,e),t.prototype.toJSON=function(e,t){if(!e)return[];for(var n=[],o=0,r=e;o<r.length;o++){var i=r[o];!0===t&&null!=i.saveRequestBody?n.push(i.saveRequestBody()):null!=i.toJSON?n.push(i.toJSON()):n.push(i)}return n},t.prototype.fromJSON=function(e,t){if(!(e&&e instanceof Array))return[];for(var n=[],o=0,r=e;o<r.length;o++){var s=r[o],a=void 0;a=i(this.itemClass)?new this.itemClass(t.connection,s).fromJSON(s):new this.itemClass(s).fromJSON(s),n.push(a)}return n},t.prototype.saveRequestBody=function(e){if(!this.readOnly)return this.toJSON(e,!0)},t}(s),m=function(e){function t(t){var n=t.modelKey,o=t.itemClass,r=t.jsonKey,i=t.readOnly,s=e.call(this,{modelKey:n,jsonKey:r,readOnly:i})||this;return s.itemClass=o,s}return o(t,e),t.prototype.toJSON=function(e){return e.toString()},t.prototype.fromJSON=function(e){if(Object.values(this.itemClass).includes(e))return e},t}(s),_=function(e){function t(t){var n=t.modelKey,o=t.itemClass,r=t.jsonKey,i=t.readOnly,s=e.call(this,{modelKey:n,jsonKey:r,readOnly:i})||this;return s.itemClass=o,s}return o(t,e),t.prototype.toJSON=function(e){for(var t=[],n=0,o=e;n<o.length;n++){var r=o[n];t.push(r.toString())}return t},t.prototype.fromJSON=function(e,t){for(var n=[],o=0,r=e;o<r.length;o++){var i=r[o];Object.values(this.itemClass).includes(i)&&n.push(i)}return n},t}(s),b={Number:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(l.bind.apply(l,r([void 0],e)))},NumberList:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(u.bind.apply(u,r([void 0],e)))},String:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(d.bind.apply(d,r([void 0],e)))},StringList:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(f.bind.apply(f,r([void 0],e)))},DateTime:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(h.bind.apply(h,r([void 0],e)))},Date:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(p.bind.apply(p,r([void 0],e)))},Collection:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(y.bind.apply(y,r([void 0],e)))},Boolean:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(c.bind.apply(c,r([void 0],e)))},Object:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(a.bind.apply(a,r([void 0],e)))},Enum:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(m.bind.apply(m,r([void 0],e)))},EnumList:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(_.bind.apply(_,r([void 0],e)))}};t.default=b},"./node_modules/nylas/lib/models/calendar-availability.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/model.js")),a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=n("./node_modules/nylas/lib/models/free-busy.js");!function(e){e.MaxAvailability="max-availability",e.MaxFairness="max-fairness"}(t.RoundRobin||(t.RoundRobin={})),function(e){e[e.Monday=0]="Monday",e[e.Tuesday=1]="Tuesday",e[e.Wednesday=2]="Wednesday",e[e.Thursday=3]="Thursday",e[e.Friday=4]="Friday",e[e.Saturday=5]="Saturday",e[e.Sunday=6]="Sunday"}(t.Days||(t.Days={}));var u=function(e){function t(t){var n=e.call(this)||this;return n.objectType="open_hours",n.emails=[],n.days=[],n.timezone="",n.start="",n.end="",n.initAttributes(t),n}return r(t,e),t.attributes={objectType:a.default.String({modelKey:"objectType",jsonKey:"object_type"}),emails:a.default.StringList({modelKey:"emails"}),days:a.default.NumberList({modelKey:"days"}),timezone:a.default.String({modelKey:"timezone"}),start:a.default.String({modelKey:"start"}),end:a.default.String({modelKey:"end"})},t}(s.default);t.OpenHours=u;var c=function(e){function t(t){var n=e.call(this)||this;return n.emails=[],n.startTime=0,n.endTime=0,n.initAttributes(t),n}return r(t,e),t.attributes={emails:a.default.StringList({modelKey:"emails"}),startTime:a.default.Number({modelKey:"startTime",jsonKey:"start_time"}),endTime:a.default.Number({modelKey:"endTime",jsonKey:"end_time"})},t}(s.default);t.CalendarConsecutiveAvailability=c;var d=function(e){function t(t){var n=e.call(this)||this;return n.object="availability",n.timeSlots=[],n.initAttributes(t),n}return r(t,e),t.attributes={timeSlots:a.default.Collection({modelKey:"timeSlots",jsonKey:"time_slots",itemClass:l.TimeSlot}),order:a.default.StringList({modelKey:"order"})},t}(s.default);t.default=d},"./node_modules/nylas/lib/models/calendar-restful-model-collection.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n("./node_modules/nylas/lib/models/calendar.js")),u=s(n("./node_modules/nylas/lib/models/restful-model-collection.js")),c=a(n("./node_modules/nylas/lib/models/free-busy.js")),d=a(n("./node_modules/nylas/lib/models/calendar-availability.js")),f=function(e){function t(t){var n=e.call(this,l.default,t)||this;return n.connection=t,n.modelClass=l.default,n}return r(t,e),t.prototype.freeBusy=function(e,t){this.queryIsValid(e);var n=e.calendars?e.calendars.map((function(e){return new c.FreeBusyCalendar(e).toJSON(!0)})):[];return this.connection.request({method:"POST",path:"/calendars/free-busy",body:{start_time:e.startTime.toString(),end_time:e.endTime.toString(),emails:e.emails||[],calendars:n}}).then((function(e){t&&t(null,e);for(var n=[],o=0,r=e;o<r.length;o++){var i=r[o];n.push((new c.default).fromJSON(i))}return Promise.resolve(n)})).catch((function(e){return t&&t(e),Promise.reject(e)}))},t.prototype.availability=function(e,t){return this.queryIsValid(e),this.connection.request({method:"POST",path:"/calendars/availability",body:i(i({},this.buildAvailabilityPayload(e)),{event_collection_id:e.eventCollectionId,round_robin:e.roundRobin})}).then((function(e){return t&&t(null,e),Promise.resolve((new d.default).fromJSON(e))})).catch((function(e){return t&&t(e),Promise.reject(e)}))},t.prototype.consecutiveAvailability=function(e,t){if(this.queryIsValid(e),e.emails){var n=e.freeBusy?e.freeBusy.map((function(e){return e.email})):[];if(e.openHours)for(var o=0,r=e.openHours;o<r.length;o++)for(var i=function(t){if(!e.emails.some((function(e){return e.includes(t)}))&&!n.includes(t))throw new Error("Open Hours cannot contain an email not present in the main email list or the free busy email list.")},s=0,a=r[o].emails;s<a.length;s++){i(a[s])}}return this.connection.request({method:"POST",path:"/calendars/availability/consecutive",body:this.buildAvailabilityPayload(e)}).then((function(e){return t&&t(null,e),Promise.resolve((new d.CalendarConsecutiveAvailability).fromJSON(e))})).catch((function(e){return t&&t(e),Promise.reject(e)}))},t.prototype.buildAvailabilityPayload=function(e){var t=e.freeBusy?e.freeBusy.map((function(e){return new c.default(e).toJSON(!0)})):[],n=e.openHours?e.openHours.map((function(e){return new d.OpenHours(e).toJSON(!0)})):[],o=e.calendars?e.calendars.map((function(e){return new c.FreeBusyCalendar(e).toJSON(!0)})):[];return{emails:e.emails,duration_minutes:e.duration,interval_minutes:e.interval,start_time:e.startTime,end_time:e.endTime,buffer:e.buffer,tentative_busy:e.tentativeBusy,free_busy:t,open_hours:n,calendars:o}},t.prototype.queryIsValid=function(e){if(!(e.emails&&0!=e.emails.length||e.calendars&&0!=e.calendars.length))throw new Error("Must set either 'emails' or 'calendars' in the query.");return!0},t}(u.default);t.default=f},"./node_modules/nylas/lib/models/calendar.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.name="",o.description="",o.location="",o.timezone="",o.initAttributes(n),o}return r(t,e),t.prototype.save=function(t,n){return void 0===t&&(t={}),e.prototype.save.call(this,t,n)},t.prototype.saveRequestBody=function(){var t=e.prototype.saveRequestBody.call(this);return{name:t.name,description:t.description,location:t.location,timezone:t.timezone,metadata:t.metadata}},t.prototype.getJobStatus=function(e){if(void 0===this.jobStatusId){var t=new Error("jobStatusId must be defined");return e&&e(t),Promise.reject(t)}return this.connection.jobStatuses.find(this.jobStatusId,e)},t.collectionName="calendars",t.attributes=i(i({},a.default.attributes),{name:l.default.String({modelKey:"name"}),description:l.default.String({modelKey:"description"}),readOnly:l.default.Boolean({modelKey:"readOnly",jsonKey:"read_only",readOnly:!0}),location:l.default.String({modelKey:"location"}),timezone:l.default.String({modelKey:"timezone"}),isPrimary:l.default.Boolean({modelKey:"isPrimary",jsonKey:"is_primary",readOnly:!0}),jobStatusId:l.default.String({modelKey:"jobStatusId",jsonKey:"job_status_id",readOnly:!0}),metadata:l.default.Object({modelKey:"metadata"}),hexColor:l.default.String({modelKey:"hexColor",jsonKey:"hex_color",readOnly:!0})}),t}(a.default);t.default=u},"./node_modules/nylas/lib/models/component-restful-model-collection.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/restful-model-collection.js")),a=i(n("./node_modules/nylas/lib/models/component.js")),l=function(e){function t(t){var n=e.call(this,a.default,t)||this;return n.connection=t,n.modelClass=a.default,n}return r(t,e),t.prototype.path=function(){return"/component/"+this.connection.clientId},t}(s.default);t.default=l},"./node_modules/nylas/lib/models/component.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.initAttributes(n),o}return r(t,e),t.prototype.saveEndpoint=function(){return"/component/"+this.connection.clientId},t.prototype.save=function(t,n){return void 0===t&&(t={}),e.prototype.save.call(this,t,n)},t.prototype.saveRequestBody=function(){var t=e.prototype.saveRequestBody.call(this);return this.id&&(delete t.access_token,delete t.public_application_id,delete t.type),t},t.collectionName="component",t.attributes=i(i({},a.default.attributes),{name:l.default.String({modelKey:"name"}),type:l.default.String({modelKey:"type"}),action:l.default.Number({modelKey:"action"}),active:l.default.Boolean({modelKey:"active"}),settings:l.default.Object({modelKey:"settings"}),allowedDomains:l.default.StringList({modelKey:"allowedDomains",jsonKey:"allowed_domains"}),publicAccountId:l.default.String({modelKey:"publicAccountId",jsonKey:"public_account_id"}),publicTokenId:l.default.String({modelKey:"publicTokenId",jsonKey:"public_token_id"}),publicApplicationId:l.default.String({modelKey:"publicApplicationId",jsonKey:"public_application_id"}),accessToken:l.default.String({modelKey:"accessToken",jsonKey:"access_token"}),createdAt:l.default.Date({modelKey:"createdAt",jsonKey:"created_at"}),updatedAt:l.default.Date({modelKey:"updatedAt",jsonKey:"updated_at"})}),t}(a.default);t.default=u},"./node_modules/nylas/lib/models/connect.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,a=i(n("./node_modules/nylas/lib/models/model.js")),l=i(n("./node_modules/nylas/lib/models/attributes.js")),u=i(n("./node_modules/nylas/lib/models/account.js"));!function(e){e.Email="email",e.EmailModify="email.modify",e.EmailReadOnly="email.read_only",e.EmailSend="email.send",e.EmailFoldersAndLabels="email.folders_and_labels",e.EmailMetadata="email.metadata",e.EmailDrafts="email.drafts",e.Calendar="calendar",e.CalendarReadOnly="calendar.read_only",e.RoomResourcesReadOnly="room_resources.read_only",e.Contacts="contacts",e.ContactsReadOnly="contacts.read_only"}(s=t.Scope||(t.Scope={}));var c,d=function(e){function t(t){var n=e.call(this)||this;return n.provider="nylas",n.name="",n.emailAddress="",n.settings={},n.initAttributes(t),n.scopes=[s.Calendar],n}return r(t,e),t.attributes={provider:l.default.String({modelKey:"provider"}),clientId:l.default.String({modelKey:"clientId",jsonKey:"client_id"}),emailAddress:l.default.String({modelKey:"emailAddress",jsonKey:"email"}),name:l.default.String({modelKey:"name"}),scopes:l.default.EnumList({modelKey:"scopes",itemClass:s}),settings:l.default.Object({modelKey:"settings"})},t}(a.default);t.VirtualCalendar=d,function(e){e.Gmail="gmail",e.Yahoo="yahoo",e.Exchange="exchange",e.Outlook="outlook",e.Imap="imap",e.Icloud="icloud",e.Hotmail="hotmail",e.Aol="aol",e.Office365="office365"}(c=t.NativeAuthenticationProvider||(t.NativeAuthenticationProvider={}));var f=function(e){function t(t){var n=e.call(this)||this;return n.name="",n.emailAddress="",n.provider=c.Gmail,n.settings={},n.scopes=[],n.initAttributes(t),n}return r(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.scopes=this.scopes.join(),t},t.prototype.fromJSON=function(t){return t.scopes&&(t.scopes=t.scopes.split(",")),e.prototype.fromJSON.call(this,t)},t.attributes={clientId:l.default.String({modelKey:"clientId",jsonKey:"client_id"}),name:l.default.String({modelKey:"name"}),emailAddress:l.default.String({modelKey:"emailAddress",jsonKey:"email_address"}),provider:l.default.Enum({modelKey:"provider",itemClass:c}),scopes:l.default.EnumList({modelKey:"scopes",itemClass:s}),settings:l.default.Object({modelKey:"settings"})},t}(a.default);t.NativeAuthentication=f;var p=function(){function e(e,t,n){this.connection=e,this.clientId=t,this.clientSecret=n}return e.prototype.authorize=function(e){if(!this.clientId)throw new Error("connect.authorize() cannot be called until you provide a clientId via Nylas.config()");var t;return e.clientId||(e.clientId=this.clientId),t=e.hasOwnProperty("provider")&&"nylas"!=e.provider?new f(e):new d(e),this.connection.request({method:"POST",path:"/connect/authorize",body:t.toJSON()}).then((function(e){return e}))},e.prototype.token=function(e){var t=this;if(!this.clientId)throw new Error("connect.token() cannot be called until you provide a clientId via Nylas.config()");if(!this.clientSecret)throw new Error("connect.token() cannot be called until you provide a clientSecret via Nylas.config()");return this.connection.request({method:"POST",path:"/connect/token",body:{client_id:this.clientId,client_secret:this.clientSecret,code:e}}).then((function(e){return new u.default(t.connection).fromJSON(e)}))},e}();t.default=p},"./node_modules/nylas/lib/models/contact-restful-model-collection.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("./node_modules/nylas/lib/models/contact.js")),l=function(e){function t(t){var n=e.call(this,a.default,t)||this;return n.connection=t,n.modelClass=a.default,n}return r(t,e),t.prototype.groups=function(e){return this.connection.request({method:"GET",path:"/contacts/groups"}).then((function(t){var n=t.map((function(e){return(new a.Group).fromJSON(e)}));return e&&e(null,n),Promise.resolve(n)})).catch((function(t){return e&&e(t),Promise.reject(t)}))},t}(s(n("./node_modules/nylas/lib/models/restful-model-collection.js")).default);t.default=l},"./node_modules/nylas/lib/models/contact.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=s(n("./node_modules/nylas/lib/models/model.js")),c=function(e){function t(t){var n=e.call(this)||this;return n.type="",n.email="",n.initAttributes(t),n}return r(t,e),t.attributes={type:l.default.String({modelKey:"type"}),email:l.default.String({modelKey:"email"})},t}(u.default);t.EmailAddress=c;var d=function(e){function t(t){var n=e.call(this)||this;return n.type="",n.imAddress="",n.initAttributes(t),n}return r(t,e),t.attributes={type:l.default.String({modelKey:"type"}),imAddress:l.default.String({modelKey:"imAddress",jsonKey:"im_address"})},t}(u.default);t.IMAddress=d;var f=function(e){function t(t){var n=e.call(this)||this;return n.type="",n.format="",n.streetAddress="",n.city="",n.postalCode="",n.state="",n.country="",n.address="",n.initAttributes(t),n}return r(t,e),t.prototype.toJSON=function(){var e={type:this.type,format:this.format};return"unstructured"==this.format?e.address=this.address:(e.street_address=this.streetAddress,e.postal_code=this.postalCode,e.state=this.state,e.city=this.city,e.country=this.country),e},t.attributes={type:l.default.String({modelKey:"type"}),format:l.default.String({modelKey:"format"}),address:l.default.String({modelKey:"address"}),streetAddress:l.default.String({modelKey:"streetAddress",jsonKey:"street_address"}),city:l.default.String({modelKey:"city"}),postalCode:l.default.String({modelKey:"postalCode",jsonKey:"postal_code"}),state:l.default.String({modelKey:"state"}),country:l.default.String({modelKey:"country"})},t}(u.default);t.PhysicalAddress=f;var p=function(e){function t(t){var n=e.call(this)||this;return n.type="",n.number="",n.initAttributes(t),n}return r(t,e),t.attributes={type:l.default.String({modelKey:"type"}),number:l.default.String({modelKey:"number"})},t}(u.default);t.PhoneNumber=p;var h=function(e){function t(t){var n=e.call(this)||this;return n.type="",n.url="",n.initAttributes(t),n}return r(t,e),t.attributes={type:l.default.String({modelKey:"type"}),url:l.default.String({modelKey:"url"})},t}(u.default);t.WebPage=h;var y=function(e){function t(t){var n=e.call(this)||this;return n.name="",n.path="",n.initAttributes(t),n}return r(t,e),t.attributes={name:l.default.String({modelKey:"name"}),path:l.default.String({modelKey:"path"}),id:l.default.String({modelKey:"id",readOnly:!0}),object:l.default.String({modelKey:"object",readOnly:!0}),accountId:l.default.String({modelKey:"accountId",jsonKey:"account_id",readOnly:!0})},t}(u.default);t.Group=y;var m=function(e){function t(t,n){var o=e.call(this,t)||this;return o.initAttributes(n),o}return r(t,e),t.prototype.getPicture=function(e,t){return void 0===e&&(e={}),this.get(e,t,"/picture")},t.prototype.save=function(t,n){return void 0===t&&(t={}),e.prototype.save.call(this,t,n)},t.collectionName="contacts",t.attributes=i(i({},a.default.attributes),{givenName:l.default.String({modelKey:"givenName",jsonKey:"given_name"}),middleName:l.default.String({modelKey:"middleName",jsonKey:"middle_name"}),surname:l.default.String({modelKey:"surname"}),suffix:l.default.String({modelKey:"suffix"}),nickname:l.default.String({modelKey:"nickname"}),birthday:l.default.String({modelKey:"birthday"}),companyName:l.default.String({modelKey:"companyName",jsonKey:"company_name"}),jobTitle:l.default.String({modelKey:"jobTitle",jsonKey:"job_title"}),managerName:l.default.String({modelKey:"managerName",jsonKey:"manager_name"}),officeLocation:l.default.String({modelKey:"officeLocation",jsonKey:"office_location"}),notes:l.default.String({modelKey:"notes"}),pictureUrl:l.default.String({modelKey:"pictureUrl",jsonKey:"picture_url"}),emailAddresses:l.default.Collection({modelKey:"emailAddresses",jsonKey:"emails",itemClass:c}),imAddresses:l.default.Collection({modelKey:"imAddresses",jsonKey:"im_addresses",itemClass:d}),physicalAddresses:l.default.Collection({modelKey:"physicalAddresses",jsonKey:"physical_addresses",itemClass:f}),phoneNumbers:l.default.Collection({modelKey:"phoneNumbers",jsonKey:"phone_numbers",itemClass:p}),webPages:l.default.Collection({modelKey:"webPages",jsonKey:"web_pages",itemClass:h}),groups:l.default.Collection({modelKey:"groups",itemClass:y}),source:l.default.String({modelKey:"source"}),jobStatusId:l.default.String({modelKey:"jobStatusId",jsonKey:"job_status_id",readOnly:!0})}),t}(a.default);t.default=m},"./node_modules/nylas/lib/models/delta-collection.js":function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/delta-stream.js")),l=n("./node_modules/nylas/lib/models/deltas.js"),u=function(){function e(e){this.path="/delta",this.connection=e}return e.prototype.latestCursor=function(e){var t={method:"POST",path:this.path+"/latest_cursor"};return this.connection.request(t).then((function(t){return e&&e(null,t.cursor),Promise.resolve(t.cursor)})).catch((function(t){return e&&e(t,null),Promise.reject(t)}))},e.prototype.since=function(e,t){var n=this,r=this.buildDeltaParams(t);return this.connection.request({method:"GET",path:""+this.path,qs:o({cursor:e},r)}).then((function(e){return Promise.resolve(new l.Deltas(n.connection).fromJSON(e))})).catch((function(e){return Promise.reject(e)}))},e.prototype.longPoll=function(e,t,n){return r(this,void 0,void 0,(function(){var o,r;return i(this,(function(i){switch(i.label){case 0:return o=this.buildDeltaParams(n),[4,(r=new a.DeltaLongPoll(this.connection,e,t,o)).open(!0)];case 1:return i.sent(),[2,r]}}))}))},e.prototype.startStream=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var n;return i(this,(function(o){switch(o.label){case 0:return[4,(n=new a.default(this.connection,e,t)).open()];case 1:return o.sent(),[2,n]}}))}))},e.prototype.buildDeltaParams=function(e){return o(o(o({},(null==e?void 0:e.view)&&{view:e.view}),(null==e?void 0:e.excludeTypes)&&{exclude_types:e.excludeTypes.join()}),(null==e?void 0:e.includeTypes)&&{includeTypes:e.includeTypes.join()})},e}();t.default=u},"./node_modules/nylas/lib/models/delta-stream.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},l=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n("./node_modules/events/events.js"),d=u(n("./node_modules/nylas/lib/nylas-connection.js")),f=u(n("./node_modules/node-fetch/browser.js")),p=u(n("./node_modules/abort-controller/browser.js")),h=u(n("./node_modules/backoff/index.js")),y=u(n("./node_modules/JSONStream/index.js")),m=u(n("./node_modules/nylas/lib/models/delta.js")),_=n("./node_modules/nylas/lib/models/deltas.js"),b=function(e){function t(n,o,r){void 0===r&&(r={});var i=e.call(this)||this;if(i.restartBackoff=h.default.exponential({randomisationFactor:.5,initialDelay:250,maxDelay:3e4,factor:4}),i.connection=n,i.cursor=o,i.params=r,i.path="/delta/streaming",i.modelClass=m.default,!(i.connection instanceof d.default))throw new Error("Connection object not provided");return i.restartBackoff.failAfter(t.MAX_RESTART_RETRIES),i.restartBackoff.on("backoff",i.restartConnection.bind(i)).on("fail",(function(){return i.emit("error","Nylas DeltaStream failed to reconnect after\n          "+t.MAX_RESTART_RETRIES+"\n          retries.")})),i}return r(t,e),t.prototype.close=function(){clearTimeout(this.timeoutId),delete this.timeoutId,this.restartBackoff.reset(),this.requestInfo&&this.requestInfo.controller.abort(),delete this.requestInfo},t.prototype.open=function(e){return s(this,void 0,void 0,(function(){var t,n,o,r,s,u,c,d,h,m,_,b=this;return a(this,(function(a){switch(a.label){case 0:this.close(),t=this.params,n=t.excludeTypes,o=void 0===n?[]:n,r=t.includeTypes,s=void 0===r?[]:r,u=l(t,["excludeTypes","includeTypes"]),c=i(i({},u),{cursor:this.cursor}),o.length>0&&(c.exclude_types=o.join(",")),s.length>0&&(c.include_types=s.join(",")),d=this.connection.newRequest({method:"GET",path:this.path,qs:c}),a.label=1;case 1:return a.trys.push([1,3,,4]),h=new p.default,this.requestInfo={request:d,controller:h},[4,f.default(d,{signal:h.signal})];case 2:return 200!==(m=a.sent()).status?(m.body.on("data",(function(e){var t=e;try{t=JSON.parse(t)}catch(e){}return b.onError(t)})),[2]):(this.emit("response",m),this.onDataReceived(),[2,m.body.on("data",this.onDataReceived.bind(this)).pipe(y.default.parse()).on("data",(function(t){return!0===e&&(t=new b.modelClass(b.connection).fromJSON(t)),t.cursor&&(b.cursor=t.cursor),b.emit("delta",t)}))]);case 3:return _=a.sent(),this.onError(_),[3,4];case 4:return[2]}}))}))},t.prototype.onDataReceived=function(){clearTimeout(this.timeoutId),this.restartBackoff.reset(),this.timeoutId=setTimeout(this.restartBackoff.backoff.bind(this.restartBackoff),m.default.streamingTimeoutMs)},t.prototype.onError=function(e){return this.emit("error",e),this.restartBackoff.reset()},t.prototype.restartConnection=function(e){return this.emit("info","Restarting Nylas DeltaStream connection (attempt "+(e+1)+"): "+(null!=this.requestInfo?this.requestInfo.request.url:void 0)),this.close(),this.open()},t.MAX_RESTART_RETRIES=5,t}(c.EventEmitter);t.default=b;var v=function(e){function t(t,n,o,r){void 0===r&&(r={});var i=e.call(this,t,n,r)||this;return r.timeout=o,i.params=r,i.path="/delta/longpoll",i.modelClass=_.Deltas,i}return r(t,e),t.prototype.onDataReceived=function(){},t}(b);t.DeltaLongPoll=v},"./node_modules/nylas/lib/models/delta.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=i(n("./node_modules/nylas/lib/models/restful-model.js")),u=i(n("./node_modules/nylas/lib/models/contact.js")),c=i(n("./node_modules/nylas/lib/models/file.js")),d=i(n("./node_modules/nylas/lib/models/message.js")),f=i(n("./node_modules/nylas/lib/models/draft.js")),p=i(n("./node_modules/nylas/lib/models/thread.js")),h=i(n("./node_modules/nylas/lib/models/event.js")),y=s(n("./node_modules/nylas/lib/models/folder.js")),m=Object.freeze({contact:u.default,file:c.default,message:d.default,draft:f.default,thread:p.default,event:h.default,folder:y.default,label:y.Label}),_=function(e){function t(t,n){var o=e.call(this,t)||this;return o.id="",o.cursor="",o.event="",o.object="",o.connection=t,o.initAttributes(n),o.objectAttributes&&m[o.object]&&(o.objectAttributes=new m[o.object](t,o.objectAttributes)),o}return r(t,e),t.prototype.fromJSON=function(t){return e.prototype.fromJSON.call(this,t),this.objectAttributes&&m[this.object]&&(this.objectAttributes=new m[this.object](this.connection).fromJSON(this.objectAttributes)),this},t.streamingTimeoutMs=15e3,t.attributes={id:a.default.String({modelKey:"id"}),cursor:a.default.String({modelKey:"cursor"}),event:a.default.String({modelKey:"event"}),object:a.default.String({modelKey:"object"}),objectAttributes:a.default.Object({modelKey:"objectAttributes",jsonKey:"attributes"})},t}(l.default);t.default=_},"./node_modules/nylas/lib/models/deltas.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/model.js")),a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=i(n("./node_modules/nylas/lib/models/delta.js")),u=function(e){function t(t,n){var o=e.call(this)||this;return o.cursorStart="",o.cursorEnd="",o.deltas=[],o.connection=t,o.initAttributes(n),o}return r(t,e),t.attributes={cursorStart:a.default.String({modelKey:"cursorStart",jsonKey:"cursor_start"}),cursorEnd:a.default.String({modelKey:"cursorEnd",jsonKey:"cursor_end"}),deltas:a.default.Collection({modelKey:"deltas",itemClass:l.default})},t}(s.default);t.Deltas=u},"./node_modules/nylas/lib/models/draft.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/message.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.initAttributes(n),o}return r(t,e),t.prototype.fileIds=function(){var t=e.prototype.fileIds.call(this);return this.fileIdsToAttach&&(t=Array.from(new Set(t.concat(this.fileIdsToAttach)))),t},t.prototype.toJSON=function(t){if(this.rawMime)throw Error("toJSON() cannot be called for raw MIME drafts");var n=e.prototype.toJSON.call(this,t);return n.file_ids=this.fileIds(),n},t.prototype.save=function(t,n){if(void 0===t&&(t={}),this.rawMime){var o=new Error("save() cannot be called for raw MIME drafts");return n&&n(o),Promise.reject(o)}return e.prototype.save.call(this,t,n)},t.prototype.saveRequestBody=function(){if(this.rawMime)throw Error("saveRequestBody() cannot be called for raw MIME drafts");return e.prototype.saveRequestBody.call(this)},t.prototype.deleteRequestBody=function(e){void 0===e&&(e={});var t={};return t.version=e.hasOwnProperty("version")?e.version:this.version,t},t.prototype.toString=function(){if(this.rawMime)throw Error("toString() cannot be called for raw MIME drafts");return e.prototype.toString.call(this)},t.prototype.send=function(e,t){var n,o,r=this;"function"==typeof t?n=t:"function"==typeof e&&(n=e),e&&"object"==typeof e?o=e:t&&"object"==typeof t&&(o=t);var i=this.rawMime,s={"Content-Type":"message/rfc822"},l=!1;return this.rawMime||(s={},l=!0,i=this.id?{draft_id:this.id,version:this.version}:this.saveRequestBody(),o&&(i.tracking=o)),this.connection.request({method:"POST",path:"/send",headers:s,body:i,json:l}).then((function(e){var t=new a.default(r.connection).fromJSON(e);return n&&n(null,t),Promise.resolve(t)})).catch((function(e){return n&&n(e),Promise.reject(e)}))},t.collectionName="drafts",t.attributes=i(i({},a.default.attributes),{version:l.default.Number({modelKey:"version"}),replyToMessageId:l.default.String({modelKey:"replyToMessageId",jsonKey:"reply_to_message_id"}),rawMime:l.default.String({modelKey:"rawMime",readOnly:!0}),fileIdsToAttach:l.default.StringList({modelKey:"fileIdsToAttach",readOnly:!0})}),t}(a.default);t.default=u},"./node_modules/nylas/lib/models/email-participant.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/attributes.js")),a=function(e){function t(t){var n=e.call(this)||this;return n.email="",n.initAttributes(t),n}return r(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.name||(t.name=t.email),t},t.attributes={name:s.default.String({modelKey:"name"}),email:s.default.String({modelKey:"email"})},t}(i(n("./node_modules/nylas/lib/models/model.js")).default);t.default=a},"./node_modules/nylas/lib/models/event-conferencing.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/attributes.js")),a=i(n("./node_modules/nylas/lib/models/model.js")),l=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={meetingCode:s.default.String({modelKey:"meetingCode",jsonKey:"meeting_code"}),phone:s.default.StringList({modelKey:"phone"}),password:s.default.String({modelKey:"password"}),pin:s.default.String({modelKey:"pin"}),url:s.default.String({modelKey:"url"})},t}(a.default);t.EventConferencingDetails=l;var u=function(e){function t(t){var n=e.call(this)||this;return n.provider="",n.initAttributes(t),n}return r(t,e),t.attributes={details:s.default.Object({modelKey:"details",itemClass:l}),provider:s.default.String({modelKey:"provider"}),autocreate:s.default.Object({modelKey:"autocreate"})},t}(a.default);t.default=u},"./node_modules/nylas/lib/models/event-notification.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=i(n("./node_modules/nylas/lib/models/model.js"));!function(e){e.Email="email",e.Sms="sms",e.Webhook="webhook"}(s=t.EventNotificationType||(t.EventNotificationType={}));var u=function(e){function t(t){var n=e.call(this)||this;return n.type=s.Email,n.minutesBeforeEvent=0,n.initAttributes(t),n}return r(t,e),t.attributes={type:a.default.String({modelKey:"type"}),minutesBeforeEvent:a.default.Number({modelKey:"minutesBeforeEvent",jsonKey:"minutes_before_event"}),url:a.default.String({modelKey:"url"}),payload:a.default.String({modelKey:"payload"}),subject:a.default.String({modelKey:"subject"}),body:a.default.String({modelKey:"body"}),message:a.default.String({modelKey:"message"})},t}(l.default);t.default=u},"./node_modules/nylas/lib/models/event-participant.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/attributes.js")),a=function(e){function t(t){var n=e.call(this)||this;return n.email="",n.initAttributes(t),n}return r(t,e),t.prototype.toJSON=function(t){var n=e.prototype.toJSON.call(this,t);return n.name||(n.name=n.email),n},t.attributes={name:s.default.String({modelKey:"name"}),email:s.default.String({modelKey:"email"}),comment:s.default.String({modelKey:"comment"}),phoneNumber:s.default.String({modelKey:"phoneNumber",jsonKey:"phone_number"}),status:s.default.String({modelKey:"status"})},t}(i(n("./node_modules/nylas/lib/models/model.js")).default);t.default=a},"./node_modules/nylas/lib/models/event-reminder-method.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/attributes.js")),a=i(n("./node_modules/nylas/lib/models/model.js"));!function(e){e.Email="email",e.Popup="popup",e.Display="display",e.Sound="sound"}(t.EventReminderMethod||(t.EventReminderMethod={}));var l=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={reminderMinutes:s.default.String({modelKey:"reminderMinutes",jsonKey:"reminder_minutes"}),reminderMethod:s.default.String({modelKey:"reminderMethod",jsonKey:"reminder_method"})},t}(a.default);t.EventReminder=l},"./node_modules/nylas/lib/models/event.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=s(n("./node_modules/nylas/lib/models/event-participant.js")),c=s(n("./node_modules/nylas/lib/models/event-conferencing.js")),d=s(n("./node_modules/nylas/lib/models/when.js")),f=s(n("./node_modules/nylas/lib/models/event-notification.js")),p=n("./node_modules/nylas/lib/models/event-reminder-method.js");!function(e){e.Request="request",e.Publish="publish",e.Reply="reply",e.Add="add",e.Cancel="cancel",e.Refresh="refresh"}(t.ICSMethod||(t.ICSMethod={}));var h=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.calendarId="",o.when=new d.default,o.initAttributes(n),o}return r(t,e),Object.defineProperty(t.prototype,"start",{get:function(){var e,t,n,o;return(null===(e=this.when)||void 0===e?void 0:e.startTime)||(null===(t=this.when)||void 0===t?void 0:t.startDate)||(null===(n=this.when)||void 0===n?void 0:n.time)||(null===(o=this.when)||void 0===o?void 0:o.date)},set:function(e){this.when||(this.when=new d.default),"number"==typeof e&&(e===this.when.endTime?(this.when.time=e,this.when.endTime=void 0):(this.when.time=void 0,this.when.startDate=void 0,this.when.date=void 0,this.when.startTime=e)),"string"==typeof e&&(e===this.when.endDate?(this.when.date=e,this.when.endDate=void 0):(this.when.time=void 0,this.when.startTime=void 0,this.when.date=void 0,this.when.startDate=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){var e,t,n,o;return(null===(e=this.when)||void 0===e?void 0:e.endTime)||(null===(t=this.when)||void 0===t?void 0:t.endDate)||(null===(n=this.when)||void 0===n?void 0:n.time)||(null===(o=this.when)||void 0===o?void 0:o.date)},set:function(e){this.when||(this.when=new d.default),"number"==typeof e&&(e===this.when.startTime?(this.when.time=e,this.when.startTime=void 0):(this.when.time=void 0,this.when.endDate=void 0,this.when.date=void 0,this.when.endTime=e)),"string"==typeof e&&(e===this.when.startDate?(this.when.date=e,this.when.startDate=void 0):(this.when.time=void 0,this.when.endTime=void 0,this.when.date=void 0,this.when.endDate=e))},enumerable:!0,configurable:!0}),t.prototype.deleteRequestQueryString=function(e){void 0===e&&(e={});var t={};return e.hasOwnProperty("notify_participants")&&(t.notify_participants=e.notify_participants),t},t.prototype.save=function(t,n){return void 0===t&&(t={}),this.validate(),e.prototype.save.call(this,t,n)},t.prototype.saveRequestBody=function(){var t=e.prototype.saveRequestBody.call(this);return this.notifications||delete t.notifications,this.id&&t.participants&&t.participants.forEach((function(e){return delete e.status})),t},t.prototype.rsvp=function(e,t,n){var o=this;return this.connection.request({method:"POST",body:{event_id:this.id,status:e,comment:t},path:"/send-rsvp"}).then((function(e){return o.fromJSON(e),n&&n(null,o),Promise.resolve(o)})).catch((function(e){return n&&n(e),Promise.reject(e)}))},t.prototype.generateICS=function(e){if(""==this.calendarId||!this.when.isSet())throw new Error("Cannot generate an ICS file for an event without a Calendar ID or when set");var t={};return e&&(t={ical_uid:e.iCalUID,prodid:e.prodId,method:e.method}),this.connection.request({method:"POST",body:i(i({},this.saveRequestBody()),{ics_options:t}),path:"/events/to-ics"}).then((function(e){if(!e.ics)throw new Error("Unexpected response from the API server. Returned 200 but no 'ics' string found.");return e.ics}))},t.prototype.validate=function(){if(this.conferencing&&this.conferencing.details&&this.conferencing.autocreate)throw new Error("Cannot set both 'details' and 'autocreate' in conferencing object.");if(this.capacity&&-1!=this.capacity&&this.participants&&this.participants.length>this.capacity)throw new Error("The number of participants in the event exceeds the set capacity.")},t.collectionName="events",t.attributes=i(i({},a.default.attributes),{calendarId:l.default.String({modelKey:"calendarId",jsonKey:"calendar_id"}),iCalUID:l.default.String({modelKey:"iCalUID",jsonKey:"ical_uid",readOnly:!0}),messageId:l.default.String({modelKey:"messageId",jsonKey:"message_id",readOnly:!0}),eventCollectionId:l.default.String({modelKey:"eventCollectionId",jsonKey:"event_collection_id"}),title:l.default.String({modelKey:"title"}),description:l.default.String({modelKey:"description"}),owner:l.default.String({modelKey:"owner",readOnly:!0}),participants:l.default.Collection({modelKey:"participants",itemClass:u.default}),readOnly:l.default.Boolean({modelKey:"readOnly",jsonKey:"read_only"}),location:l.default.String({modelKey:"location"}),when:l.default.Object({modelKey:"when",itemClass:d.default}),busy:l.default.Boolean({modelKey:"busy"}),status:l.default.String({modelKey:"status",readOnly:!0}),recurrence:l.default.Object({modelKey:"recurrence"}),masterEventId:l.default.String({modelKey:"masterEventId",jsonKey:"master_event_id",readOnly:!0}),originalStartTime:l.default.DateTime({modelKey:"originalStartTime",jsonKey:"original_start_time",readOnly:!0}),capacity:l.default.Number({modelKey:"capacity"}),conferencing:l.default.Object({modelKey:"conferencing",itemClass:c.default}),reminderMinutes:l.default.String({modelKey:"reminderMinutes",jsonKey:"reminder_minutes"}),reminderMethod:l.default.String({modelKey:"reminderMethod",jsonKey:"reminder_method"}),reminders:l.default.Object({modelKey:"reminders",jsonKey:"reminders",itemClass:p.EventReminder,readOnly:!0}),notifications:l.default.Collection({modelKey:"notifications",itemClass:f.default}),roundRobinOrder:l.default.StringList({modelKey:"roundRobinOrder",jsonKey:"round_robin_order"}),metadata:l.default.Object({modelKey:"metadata"}),jobStatusId:l.default.String({modelKey:"jobStatusId",jsonKey:"job_status_id",readOnly:!0}),organizerEmail:l.default.String({modelKey:"organizerEmail",jsonKey:"organizer_email",readOnly:!0}),organizerName:l.default.String({modelKey:"organizerName",jsonKey:"organizer_name",readOnly:!0}),hideParticipants:l.default.Boolean({modelKey:"hideParticipants",jsonKey:"hide_participants"}),visibility:l.default.String({modelKey:"visibility"}),customerEventId:l.default.String({modelKey:"customerEventId",jsonKey:"customer_event_id"})}),t}(a.default);t.default=h},"./node_modules/nylas/lib/models/file.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/attributes.js")),l=s(n("./node_modules/nylas/lib/models/restful-model.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.initAttributes(n),o}return r(t,e),t.prototype.upload=function(e){var n=this;if(!this.filename)throw new Error("Please define a filename");if(!this.data)throw new Error("Please add some data to the file");if(!this.contentType)throw new Error("Please define a content-type");var o={filename:this.filename,contentType:this.contentType};return this.size&&(o.knownLength=this.size),this.connection.request({method:"POST",path:"/"+t.collectionName,json:!0,formData:{file:{value:this.data,options:o}}}).then((function(t){return t.length>0?(n.fromJSON(t[0]),e&&e(null,n),Promise.resolve(n)):Promise.reject(null)})).catch((function(t){return e&&e(t),Promise.reject(t)}))},t.prototype.download=function(e){if(!this.id)throw new Error("Please provide a File id");return this.connection.request({path:"/files/"+this.id+"/download",downloadRequest:!0}).then((function(t){return e&&e(null,t),Promise.resolve(t)})).catch((function(t){return e&&e(t),Promise.reject(t)}))},t.collectionName="files",t.attributes=i(i({},l.default.attributes),{contentType:a.default.String({modelKey:"contentType",jsonKey:"content_type"}),size:a.default.Number({modelKey:"size"}),filename:a.default.String({modelKey:"filename"}),messageIds:a.default.StringList({modelKey:"messageIds",jsonKey:"message_ids"}),contentId:a.default.String({modelKey:"contentId",jsonKey:"content_id"}),contentDisposition:a.default.String({modelKey:"contentDisposition",jsonKey:"content_disposition"}),data:a.default.Object({modelKey:"data",readOnly:!0})}),t}(l.default);t.default=u},"./node_modules/nylas/lib/models/folder.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.initAttributes(n),o}return r(t,e),t.prototype.save=function(t,n){return void 0===t&&(t={}),e.prototype.save.call(this,t,n)},t.collectionName="folders",t.attributes=i(i({},a.default.attributes),{name:l.default.String({modelKey:"name",jsonKey:"name"}),displayName:l.default.String({modelKey:"displayName",jsonKey:"display_name"}),jobStatusId:l.default.String({modelKey:"jobStatusId",jsonKey:"job_status_id",readOnly:!0})}),t}(a.default);t.default=u;var c=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.saveRequestBody=function(){return{display_name:this.displayName}},t.collectionName="labels",t}(u);t.Label=c},"./node_modules/nylas/lib/models/free-busy.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/model.js")),a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=function(e){function t(t){var n=e.call(this)||this;return n.accountId="",n.calendarIds=[],n.initAttributes(t),n}return r(t,e),t.attributes={accountId:a.default.String({modelKey:"accountId",jsonKey:"account_id"}),calendarIds:a.default.StringList({modelKey:"calendarIds",jsonKey:"calendar_ids"})},t}(s.default);t.FreeBusyCalendar=l;var u=function(e){function t(t){var n=e.call(this)||this;return n.eventId="",n.currentCapacity=0,n.maxCapacity=0,n.initAttributes(t),n}return r(t,e),t.attributes={eventId:a.default.String({modelKey:"eventId",jsonKey:"event_id"}),currentCapacity:a.default.Number({modelKey:"currentCapacity",jsonKey:"current_capacity"}),maxCapacity:a.default.Number({modelKey:"maxCapacity",jsonKey:"max_capacity"})},t}(s.default);t.TimeSlotCapacity=u;var c=function(e){function t(t){var n=e.call(this)||this;return n.object="time_slot",n.status="",n.startTime=0,n.endTime=0,n.initAttributes(t),n}return r(t,e),t.attributes={object:a.default.String({modelKey:"object"}),status:a.default.String({modelKey:"status"}),startTime:a.default.Number({modelKey:"startTime",jsonKey:"start_time"}),endTime:a.default.Number({modelKey:"endTime",jsonKey:"end_time"}),emails:a.default.StringList({modelKey:"emails"}),capacity:a.default.Object({modelKey:"capacity",itemClass:u})},t}(s.default);t.TimeSlot=c;var d=function(e){function t(t){var n=e.call(this)||this;return n.object="free_busy",n.email="",n.timeSlots=[],n.initAttributes(t),n}return r(t,e),t.attributes={object:a.default.String({modelKey:"object"}),email:a.default.String({modelKey:"email"}),timeSlots:a.default.Collection({modelKey:"timeSlots",jsonKey:"time_slots",itemClass:c})},t}(s.default);t.default=d},"./node_modules/nylas/lib/models/job-status-restful-model-collection.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/restful-model-collection.js")),a=i(n("./node_modules/nylas/lib/models/job-status.js")),l=i(n("./node_modules/nylas/lib/models/outbox-job-status.js")),u=function(e){function t(t){var n=e.call(this,a.default,t)||this;return n.connection=t,n.modelClass=a.default,n}return r(t,e),t.prototype.createModel=function(e){return e.object&&"message"===e.object?new l.default(this.connection).fromJSON(e):new this.modelClass(this.connection).fromJSON(e)},t}(s.default);t.default=u},"./node_modules/nylas/lib/models/job-status.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.initAttributes(n),o}return r(t,e),t.prototype.isSuccessful=function(){return"successful"===this.status},t.collectionName="job-statuses",t.attributes=i(i({},a.default.attributes),{action:l.default.String({modelKey:"action",readOnly:!0}),createdAt:l.default.DateTime({modelKey:"createdAt",jsonKey:"created_at",readOnly:!0}),jobStatusId:l.default.String({modelKey:"jobStatusId",jsonKey:"job_status_id",readOnly:!0}),status:l.default.String({modelKey:"status",readOnly:!0}),originalData:l.default.Object({modelKey:"originalData",jsonKey:"original_data",readOnly:!0}),metadata:l.default.Object({modelKey:"metadata",readOnly:!0})}),t}(a.default);t.default=u},"./node_modules/nylas/lib/models/management-account.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/management-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=s(n("./node_modules/nylas/lib/models/model.js")),c=function(e){function t(t){var n=e.call(this)||this;return n.ipAddresses=[],n.updatedAt=0,n.initAttributes(t),n}return r(t,e),t.attributes={ipAddresses:l.default.StringList({modelKey:"ipAddresses",jsonKey:"ip_addresses"}),updatedAt:l.default.Number({modelKey:"updatedAt",jsonKey:"updated_at"})},t}(u.default);t.ApplicationIPAddresses=c;var d=function(e){function t(t){var n=e.call(this)||this;return n.scopes="",n.state="",n.createdAt=0,n.updatedAt=0,n.initAttributes(t),n}return r(t,e),t.attributes={scopes:l.default.String({modelKey:"scopes"}),state:l.default.String({modelKey:"state"}),createdAt:l.default.Number({modelKey:"createdAt",jsonKey:"created_at"}),updatedAt:l.default.Number({modelKey:"updatedAt",jsonKey:"updated_at"})},t}(u.default);t.AccountTokenInfo=d;var f=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.billingState="",r.emailAddress="",r.namespaceId="",r.provider="",r.syncState="",r.authenticationType="",r.trial=!1,r.initAttributes(o),r}return r(t,e),t.prototype.upgrade=function(){return this.connection.request({method:"POST",path:"/a/"+this.clientId+"/"+this.constructor.collectionName+"/"+this.id+"/upgrade"}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},t.prototype.downgrade=function(){return this.connection.request({method:"POST",path:"/a/"+this.clientId+"/"+this.constructor.collectionName+"/"+this.id+"/downgrade"}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},t.prototype.revokeAll=function(e){return this.connection.request({method:"POST",path:"/a/"+this.clientId+"/"+this.constructor.collectionName+"/"+this.id+"/revoke-all",body:{keep_access_token:e}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},t.prototype.ipAddresses=function(){return this.connection.request({method:"GET",path:"/a/"+this.clientId+"/ip_addresses"}).then((function(e){return Promise.resolve((new c).fromJSON(e))})).catch((function(e){return Promise.reject(e)}))},t.prototype.tokenInfo=function(e){return this.connection.request({method:"POST",path:"/a/"+this.clientId+"/"+this.constructor.collectionName+"/"+this.id+"/token-info",body:{access_token:e}}).then((function(e){return Promise.resolve((new d).fromJSON(e))})).catch((function(e){return Promise.reject(e)}))},t.prototype.save=function(t,n){return void 0===t&&(t={}),e.prototype.save.call(this,t,n)},t.prototype.saveRequestBody=function(){return{metadata:this.metadata}},t.prototype.saveEndpoint=function(){return"/a/"+this.connection.clientId+"/accounts"},t.collectionName="accounts",t.attributes=i(i({},a.default.attributes),{billingState:l.default.String({modelKey:"billingState",jsonKey:"billing_state"}),emailAddress:l.default.String({modelKey:"emailAddress",jsonKey:"email"}),namespaceId:l.default.String({modelKey:"namespaceId",jsonKey:"namespace_id"}),provider:l.default.String({modelKey:"provider"}),syncState:l.default.String({modelKey:"syncState",jsonKey:"sync_state"}),authenticationType:l.default.String({modelKey:"authenticationType",jsonKey:"authentication_type"}),trial:l.default.Boolean({modelKey:"trial"}),metadata:l.default.Object({modelKey:"metadata"})}),t}(a.default);t.default=f},"./node_modules/nylas/lib/models/management-model-collection.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n,o){var r=e.call(this,t,n)||this;return r.clientId=o,r}return r(t,e),t.prototype.build=function(t){return e.prototype.build.call(this,t)},t.prototype.path=function(){return"/a/"+this.clientId+"/"+this.modelClass.collectionName},t.prototype.createModel=function(e){var t=this.modelClass.propsFromJSON(e,this);return new this.modelClass(this.connection,this.clientId,t)},t}(i(n("./node_modules/nylas/lib/models/restful-model-collection.js")).default);t.default=s},"./node_modules/nylas/lib/models/management-model.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n,o){var r=e.call(this,t,o)||this;return r.clientId=n,r}return r(t,e),t}(i(n("./node_modules/nylas/lib/models/restful-model.js")).default);t.default=s},"./node_modules/nylas/lib/models/message-restful-model-collection.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model-collection.js")),l=s(n("./node_modules/nylas/lib/models/message.js")),u=function(e){function t(t){var n=e.call(this,l.default,t)||this;return n.connection=t,n.modelClass=l.default,n}return r(t,e),t.prototype.findMultiple=function(e,t){return t&&t.view&&(t.params={view:t.view},delete t.view),1==e.length?this.find(e[0],t).then((function(e){return[e]})):this.range(i({path:this.path()+"/"+e.join()},t))},t.prototype.findRaw=function(e){return this.connection.request({method:"GET",headers:{Accept:"message/rfc822"},path:this.path()+"/"+e}).catch((function(e){return Promise.reject(e)}))},t}(a.default);t.default=u},"./node_modules/nylas/lib/models/message.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n("./node_modules/nylas/lib/models/restful-model.js")),c=a(n("./node_modules/nylas/lib/models/attributes.js")),d=a(n("./node_modules/nylas/lib/models/file.js")),f=a(n("./node_modules/nylas/lib/models/event.js")),p=a(n("./node_modules/nylas/lib/models/email-participant.js")),h=l(n("./node_modules/nylas/lib/models/folder.js")),y=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.to=[],o.initAttributes(n),o}return r(t,e),t.prototype.participants=function(){for(var e={},t=this.to||[],n=this.cc||[],o=this.from||[],r=0,i=Array.from(new Set(s(t,n,o)));r<i.length;r++){var a=i[r];a&&(a.email?a.email.length:"")>0&&(e[(a.email||"".toLowerCase().trim())+" "+(a.name||"").toLowerCase().trim()]=new p.default(a))}return Object.values(e)},t.prototype.fileIds=function(){return this.files?this.files.map((function(e){return e.id})):[]},t.prototype.getRaw=function(){return this.connection.request({method:"GET",headers:{Accept:"message/rfc822"},path:"/"+t.collectionName+"/"+this.id}).catch((function(e){return Promise.reject(e)}))},t.prototype.saveRequestBody=function(){if("Draft"===this.constructor.name)return e.prototype.saveRequestBody.call(this);var t={};return this.labels?t.label_ids=Array.from(this.labels).map((function(e){return e.id})):this.folder&&(t.folder_id=this.folder.id),t.starred=this.starred,t.unread=this.unread,t.metadata=this.metadata,t},t.prototype.save=function(t,n){if(void 0===t&&(t={}),"Message"===this.constructor.name&&!this.id)throw new Error("Cannot create a message. Please create and send a draft instead.");return e.prototype.save.call(this,t,n)},t.collectionName="messages",t.attributes=i(i({},u.default.attributes),{subject:c.default.String({modelKey:"subject"}),from:c.default.Collection({modelKey:"from",itemClass:p.default}),replyTo:c.default.Collection({modelKey:"replyTo",jsonKey:"reply_to",itemClass:p.default}),to:c.default.Collection({modelKey:"to",itemClass:p.default}),cc:c.default.Collection({modelKey:"cc",itemClass:p.default}),bcc:c.default.Collection({modelKey:"bcc",itemClass:p.default}),date:c.default.DateTime({modelKey:"date"}),threadId:c.default.String({modelKey:"threadId",jsonKey:"thread_id"}),snippet:c.default.String({modelKey:"snippet"}),body:c.default.String({modelKey:"body"}),unread:c.default.Boolean({modelKey:"unread"}),starred:c.default.Boolean({modelKey:"starred"}),files:c.default.Collection({modelKey:"files",itemClass:d.default,readOnly:!0}),events:c.default.Collection({modelKey:"events",itemClass:f.default}),folder:c.default.Object({modelKey:"folder",itemClass:h.default}),labels:c.default.Collection({modelKey:"labels",itemClass:h.Label}),metadata:c.default.Object({modelKey:"metadata"}),headers:c.default.Object({modelKey:"headers"}),jobStatusId:c.default.String({modelKey:"jobStatusId",jsonKey:"job_status_id",readOnly:!0})}),t}(u.default);t.default=y},"./node_modules/nylas/lib/models/model-collection.js":function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=100,r=function(){function e(e,t,n){if(this.modelClass=e,this.connection=t,this._path=n,!this.connection)throw new Error("Connection object not provided");if(!this.modelClass)throw new Error("Model class not provided")}return e.prototype.forEach=function(e,t,n){var r=this;if(void 0===e&&(e={}),"count"==e.view){var i=new Error("forEach() cannot be called with the count view");throw n&&n(i),i}var s=0,a=function(){return r.getItems(e,s,o).then((function(e){for(var n=0,r=e;n<r.length;n++){var i=r[n];t(i)}if(s+=e.length,!(e.length<o))return a()}))};a().then((function(){n&&n()}),(function(e){if(n)return n(e)}))},e.prototype.list=function(e,t){if(void 0===e&&(e={}),"count"==e.view){var n=new Error("list() cannot be called with the count view");return t&&t(n),Promise.reject(n)}var o=e.limit||1/0,r=e.offset;return this.range({params:e,offset:r,limit:o,callback:t})},e.prototype.find=function(e,t,n){var o;"function"==typeof n?o=n:"function"==typeof t&&(o=t);var r={};if(t&&"object"==typeof t?r=t:n&&"object"==typeof n&&(r=n),!e){var i=new Error("find() must be called with an item id");return o&&o(i),Promise.reject(i)}if("count"==r.view||"ids"==r.view){i=new Error("find() cannot be called with the count or ids view");return o&&o(i),Promise.reject(i)}return this.getModel(e,r).then((function(e){return o&&o(null,e),Promise.resolve(e)})).catch((function(e){return o&&o(e),Promise.reject(e)}))},e.prototype.path=function(){return this._path},e.prototype.range=function(e){var t=this,n=e.params,r=void 0===n?{}:n,i=e.offset,s=void 0===i?0:i,a=e.limit,l=void 0===a?100:a,u=e.callback,c=e.path,d=[],f=function(){var e=s+d.length,n=Math.min(o,l-d.length);return t.getItems(r,e,n,c).then((function(e){if(d=d.concat(e),!(e.length<o||d.length>=l))return f()}))};return f().then((function(){return u&&u(null,d),d}),(function(e){throw u&&u(e),e}))},e.prototype.getItems=function(e,t,o,r){return r||(r=this.path()),"ids"==e.view?this.connection.request({method:"GET",path:r,qs:n(n({},e),{offset:t,limit:o}),baseUrl:this.baseUrl}):this.getModelCollection(e,t,o,r)},e.prototype.createModel=function(e){return(new this.modelClass).fromJSON(e)},e.prototype.getModel=function(e,t){var n=this;return void 0===t&&(t={}),this.connection.request({method:"GET",path:this.path()+"/"+e,qs:t,baseUrl:this.baseUrl}).then((function(e){var t=n.createModel(e);return Promise.resolve(t)}))},e.prototype.getModelCollection=function(e,t,o,r){var i=this;return this.connection.request({method:"GET",path:r,qs:n(n({},e),{offset:t,limit:o}),baseUrl:this.baseUrl}).then((function(e){var t=e.map((function(e){return i.createModel(e)}));return Promise.resolve(t)}))},e}();t.default=r},"./node_modules/nylas/lib/models/model.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.propsFromJSON=function(e,t){var n={};for(var o in this.attributes){var r=this.attributes[o];void 0!==e[r.jsonKey]&&(n[o]=r.fromJSON(e[r.jsonKey],t))}return n},e.prototype.attributes=function(){return this.constructor.attributes},e.prototype.initAttributes=function(e){var t=this.attributes();for(var n in e)if(e.hasOwnProperty(n)){var o=t[n];o&&(this[n]=o.fromJSON(e[n],this))}},e.prototype.fromJSON=function(e){var t=this.attributes();for(var n in t){var o=t[n];void 0!==e[o.jsonKey]&&(this[n]=o.fromJSON(e[o.jsonKey],this))}return this},e.prototype.toJSON=function(e){var t={},n=this.attributes();for(var o in n){var r=n[o];t[r.jsonKey]=!0===e?r.saveRequestBody(this[o]):r.toJSON(this[o])}return t},e.prototype.saveRequestBody=function(){return this.toJSON(!0)},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.default=n},"./node_modules/nylas/lib/models/neural-categorizer.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n("./node_modules/nylas/lib/models/attributes.js")),c=l(n("./node_modules/nylas/lib/models/message.js")),d=function(e){function t(t){var n=e.call(this)||this;return n.category="",n.categorizedAt=new Date,n.modelVersion="",n.subcategories=[],n.initAttributes(t),n}return r(t,e),t.attributes={category:u.default.String({modelKey:"category"}),categorizedAt:u.default.DateTime({modelKey:"categorizedAt",jsonKey:"categorized_at"}),modelVersion:u.default.String({modelKey:"modelVersion",jsonKey:"model_version"}),subcategories:u.default.StringList({modelKey:"subcategories"})},t}(l(n("./node_modules/nylas/lib/models/model.js")).default);t.Categorize=d;var f=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.categorizer=new d,o.initAttributes(n),o}return r(t,e),t.prototype.reCategorize=function(e){var t=this;return this.connection.request({method:"POST",path:"/neural/categorize/feedback",body:{message_id:this.id,category:e},headers:{"Content-Type":"application/json"}}).then((function(e){return s(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.connection.neural.categorize([e.message_id])];case 1:return[2,t.sent()[0]]}}))}))}))},t.collectionName="categorizer",t.attributes=i(i({},c.default.attributes),{categorizer:u.default.Object({modelKey:"categorizer",itemClass:d})}),t}(c.default);t.default=f},"./node_modules/nylas/lib/models/neural-clean-conversation.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n("./node_modules/nylas/lib/models/message.js")),c=l(n("./node_modules/nylas/lib/models/attributes.js")),d=/[(']cid:(.)*[)']/g,f=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.conversation="",o.modelVersion="",o.initAttributes(n),o}return r(t,e),t.prototype.extractImages=function(){var e=this,t=[];if(this.conversation){var n=this.conversation.match(d);n&&n.forEach((function(n){return s(e,void 0,void 0,(function(){var e,o;return a(this,(function(r){switch(r.label){case 0:return e=n.substring(5,n.length-1),[4,this.connection.files.find(e)];case 1:return o=r.sent(),t.push(o),[2]}}))}))}))}return Promise.resolve(t)},t.collectionName="conversation",t.attributes=i(i({},u.default.attributes),{conversation:c.default.String({modelKey:"conversation"}),modelVersion:c.default.String({modelKey:"modelVersion",jsonKey:"model_version"})}),t}(u.default);t.default=f},"./node_modules/nylas/lib/models/neural-ocr.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/attributes.js")),l=s(n("./node_modules/nylas/lib/models/file.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.ocr=[],o.processedPages=0,o.initAttributes(n),o}return r(t,e),t.collectionName="ocr",t.attributes=i(i({},l.default.attributes),{ocr:a.default.StringList({modelKey:"ocr"}),processedPages:a.default.Number({modelKey:"processedPages",jsonKey:"processed_pages"})}),t}(l.default);t.default=u},"./node_modules/nylas/lib/models/neural-sentiment-analysis.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/attributes.js")),a=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.accountId="",o.sentiment="",o.sentimentScore=0,o.processedLength=0,o.text="",o.initAttributes(n),o}return r(t,e),t.collectionName="sentiment",t.attributes={accountId:s.default.String({modelKey:"accountId",jsonKey:"account_id"}),sentiment:s.default.String({modelKey:"sentiment"}),sentimentScore:s.default.Number({modelKey:"sentimentScore",jsonKey:"sentiment_score"}),processedLength:s.default.Number({modelKey:"processedLength",jsonKey:"processed_length"}),text:s.default.String({modelKey:"text"})},t}(i(n("./node_modules/nylas/lib/models/restful-model.js")).default);t.default=a},"./node_modules/nylas/lib/models/neural-signature-contact.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=s(n("./node_modules/nylas/lib/models/contact.js")),u=i(n("./node_modules/nylas/lib/models/model.js")),c=function(e){function t(t){var n=e.call(this)||this;return n.description="",n.url="",n.initAttributes(t),n}return r(t,e),t.attributes={description:a.default.String({modelKey:"description"}),url:a.default.String({modelKey:"url"})},t}(u.default),d=function(e){function t(t){var n=e.call(this)||this;return n.firstName="",n.lastName="",n.initAttributes(t),n}return r(t,e),t.attributes={firstName:a.default.String({modelKey:"firstName",jsonKey:"first_name"}),lastName:a.default.String({modelKey:"lastName",jsonKey:"last_name"})},t}(u.default),f=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.prototype.toJSON=function(){return{job_titles:this.jobTitles,links:this.links,phone_numbers:this.phoneNumbers,emails:this.emails,names:this.names?this.names.map((function(e){return e.toJSON()})):this.names}},t.prototype.toContactObject=function(e){var t=new l.default(e);if(this.names&&(t.givenName=this.names[0].firstName,t.surname=this.names[0].lastName),this.jobTitles&&(t.jobTitle=this.jobTitles[0]),this.emails){var n=[];this.emails.forEach((function(e){return n.push(new l.EmailAddress({type:"personal",email:e}))})),t.emailAddresses=n}if(this.phoneNumbers){var o=[];this.phoneNumbers.forEach((function(e){return o.push(new l.PhoneNumber({type:"mobile",number:e}))})),t.phoneNumbers=o}if(this.links){var r=[];this.links.forEach((function(e){e.url&&r.push(new l.WebPage({type:"homepage",url:e.url}))})),t.webPages=r}return t},t.attributes={jobTitles:a.default.StringList({modelKey:"jobTitles",jsonKey:"job_titles"}),links:a.default.Collection({modelKey:"links",itemClass:c}),phoneNumbers:a.default.StringList({modelKey:"phoneNumbers",jsonKey:"phone_numbers"}),emails:a.default.StringList({modelKey:"emails"}),names:a.default.Collection({modelKey:"names",itemClass:d})},t}(u.default);t.default=f},"./node_modules/nylas/lib/models/neural-signature-extraction.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/neural-signature-contact.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=s(n("./node_modules/nylas/lib/models/message.js")),c=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.signature="",o.modelVersion="",o.initAttributes(n),o}return r(t,e),t.collectionName="signature",t.attributes=i(i({},u.default.attributes),{signature:l.default.String({modelKey:"signature"}),modelVersion:l.default.String({modelKey:"modelVersion",jsonKey:"model_version"}),contacts:l.default.Object({modelKey:"contacts",itemClass:a.default})}),t}(u.default);t.default=c},"./node_modules/nylas/lib/models/neural.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/neural-sentiment-analysis.js")),u=s(n("./node_modules/nylas/lib/models/neural-signature-extraction.js")),c=s(n("./node_modules/nylas/lib/models/neural-ocr.js")),d=s(n("./node_modules/nylas/lib/models/neural-categorizer.js")),f=s(n("./node_modules/nylas/lib/models/neural-clean-conversation.js")),p=s(n("./node_modules/nylas/lib/models/model.js")),h=s(n("./node_modules/nylas/lib/models/attributes.js")),y=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.prototype.toJSON=function(t){var n=e.prototype.toJSON.call(this);return!0!==t&&delete n.parse_contacts,n},t.attributes={ignoreLinks:h.default.Boolean({modelKey:"ignoreLinks",jsonKey:"ignore_links"}),ignoreImages:h.default.Boolean({modelKey:"ignoreImages",jsonKey:"ignore_images"}),ignoreTables:h.default.Boolean({modelKey:"ignoreTables",jsonKey:"ignore_tables"}),removeConclusionPhrases:h.default.Boolean({modelKey:"removeConclusionPhrases",jsonKey:"remove_conclusion_phrases"}),imagesAsMarkdown:h.default.Boolean({modelKey:"imagesAsMarkdown",jsonKey:"images_as_markdown"}),parseContacts:h.default.Boolean({modelKey:"parseContacts",jsonKey:"parse_contacts"})},t}(p.default);t.NeuralMessageOptions=y;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.sentimentAnalysisMessage=function(e){var t=this,n={message_id:e};return this.request("sentiment",n).then((function(e){return e.map((function(e){return new l.default(t.connection).fromJSON(e)}))}))},t.prototype.sentimentAnalysisText=function(e){var t=this,n={text:e};return this.request("sentiment",n).then((function(e){return new l.default(t.connection).fromJSON(e)}))},t.prototype.extractSignature=function(e,t){var n=this,o={message_id:e};return t&&(o=i(i({},o),new y(t).toJSON(!0))),this.request("signature",o).then((function(e){return e.map((function(e){return new u.default(n.connection).fromJSON(e)}))}))},t.prototype.ocrRequest=function(e,t){var n=this,o={file_id:e};return t&&(o.pages=t),this.request("ocr",o).then((function(e){return new c.default(n.connection).fromJSON(e)}))},t.prototype.categorize=function(e){var t=this,n={message_id:e};return this.request("categorize",n).then((function(e){return e.map((function(e){return new d.default(t.connection).fromJSON(e)}))}))},t.prototype.cleanConversation=function(e,t){var n=this,o={message_id:e};return t&&(o=i(i({},o),t)),this.request("conversation",o).then((function(e){return e.map((function(e){return new f.default(n.connection).fromJSON(e)}))}))},t.prototype.request=function(e,t){return this.connection.request({method:"PUT",path:"/neural/"+e,body:t,headers:{"Content-Type":"application/json"}})},t}(a.default);t.default=m},"./node_modules/nylas/lib/models/nylas-api-error.js":function(e,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,o){var r=e.call(this,o)||this;return r.errorMapping={400:"Bad Request",401:"Unauthorized",402:"Request Failed or Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",410:"Gone",418:"I'm a Teapot",422:"Sending Error",429:"Too Many Requests",500:"Server Error",502:"Server Error",503:"Server Error",504:"Server Error"},r.statusCode=t,r.name=r.errorMapping[t],r.type=n,r}return o(t,e),t}(Error);t.default=r},"./node_modules/nylas/lib/models/outbox-job-status.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/outbox-message.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=s(n("./node_modules/nylas/lib/models/job-status.js")),c=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.initAttributes(n),o}return r(t,e),t.attributes=i(i({},u.default.attributes),{messageId:l.default.String({modelKey:"messageId",jsonKey:"message_id",readOnly:!0}),threadId:l.default.String({modelKey:"threadId",jsonKey:"thread_id",readOnly:!0}),sendAt:l.default.DateTime({modelKey:"sendAt",jsonKey:"send_at",readOnly:!0}),originalSendAt:l.default.DateTime({modelKey:"originalSendAt",jsonKey:"original_send_at",readOnly:!0}),originalData:l.default.Object({modelKey:"originalData",jsonKey:"original_data",itemClass:a.default,readOnly:!0})}),t}(u.default);t.default=c},"./node_modules/nylas/lib/models/outbox-message.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/draft.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.sendAt=new Date,o.initAttributes(n),o}return r(t,e),t.collectionName="/v2/outbox",t.attributes=i(i({},a.default.attributes),{sendAt:l.default.DateTime({modelKey:"sendAt",jsonKey:"send_at"}),retryLimitDatetime:l.default.DateTime({modelKey:"retryLimitDatetime",jsonKey:"retry_limit_datetime"}),originalSendAt:l.default.DateTime({modelKey:"originalSendAt",jsonKey:"original_send_at",readOnly:!0})}),t}(a.default);t.default=u},"./node_modules/nylas/lib/models/outbox.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/nylas/lib/nylas-connection.js"),a=i(n("./node_modules/nylas/lib/models/outbox-job-status.js")),l=i(n("./node_modules/nylas/lib/models/model.js")),u=i(n("./node_modules/nylas/lib/models/attributes.js")),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.attributes={domainVerified:u.default.Boolean({modelKey:"domainVerified",jsonKey:"domain_verified"}),senderVerified:u.default.Boolean({modelKey:"senderVerified",jsonKey:"sender_verified"})},t}(l.default);t.SendGridVerifiedStatus=c;var d=function(){function e(e){this.path="/v2/outbox",this.connection=e}return e.prototype.send=function(t,n){var o=this,r=t.saveRequestBody();n.tracking&&(r.tracking=n.tracking);var i=e.validateAndFormatDateTime(n.sendAt,n.retryLimitDatetime),s=i[0],l=i[1];return r.send_at=s,r.retry_limit_datetime=l,this.request({method:"POST",path:"",body:r}).then((function(e){var t=new a.default(o.connection).fromJSON(e);return n.callback&&n.callback(null,t),Promise.resolve(t)})).catch((function(e){return n.callback&&n.callback(e),Promise.reject(e)}))},e.prototype.update=function(t,n){var o=this,r={};n.updatedMessage&&(r=n.updatedMessage.saveRequestBody());var i=e.validateAndFormatDateTime(n.sendAt,n.retryLimitDatetime),s=i[0],l=i[1];return r.send_at=s,r.retry_limit_datetime=l,this.request({method:"PATCH",path:"/"+t,body:r}).then((function(e){var t=new a.default(o.connection).fromJSON(e);return Promise.resolve(t)}))},e.prototype.delete=function(e){return this.request({method:"DELETE",path:"/"+e})},e.prototype.sendGridVerificationStatus=function(){return this.request({method:"GET",path:"/onboard/verified_status"}).then((function(e){e.results&&(e=e.results);var t=(new c).fromJSON(e);return Promise.resolve(t)}))},e.prototype.deleteSendGridSubUser=function(e){return this.request({method:"DELETE",path:"/onboard/subuser",body:{email:e}})},e.prototype.request=function(e){var t;return e.body&&(t={"Content-Type":"application/json"}),this.connection.request({method:e.method,path:""+this.path+e.path,body:e.body,headers:t,authMethod:s.AuthMethod.BEARER})},e.validateAndFormatDateTime=function(t,n){var o=t instanceof Date?e.dateToEpoch(t):t,r=n instanceof Date?e.dateToEpoch(n):n;if(o&&0!==o&&o<e.dateToEpoch(new Date))throw new Error("Cannot set message to be sent at a time before the current time.");if(r&&0!==r){var i=o;if(i&&0!==i||(i=e.dateToEpoch(new Date)),r<i)throw new Error("Cannot set message to stop retrying before time to send at.")}return[o,r]},e.dateToEpoch=function(e){return Math.floor(e.getTime()/1e3)},e}();t.default=d},"./node_modules/nylas/lib/models/rate-limit-error.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(n,o,r,i){var s=e.call(this,t.RATE_LIMIT_STATUS_CODE,n,o)||this;return s.rateLimit=r,s.rateLimitReset=i,s}return r(t,e),t.parseErrorResponse=function(e,n){var o=Number(n.get(this.RATE_LIMIT_LIMIT_HEADER))||void 0,r=Number(n.get(this.RATE_LIMIT_RESET_HEADER))||void 0;return new t(e.type,e.message,o,r)},t.RATE_LIMIT_STATUS_CODE=429,t.RATE_LIMIT_LIMIT_HEADER="X-RateLimit-Limit",t.RATE_LIMIT_RESET_HEADER="X-RateLimit-Reset",t}(i(n("./node_modules/nylas/lib/models/nylas-api-error.js")).default);t.default=s},"./node_modules/nylas/lib/models/resource.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/restful-model.js")),a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.email="",o.name="",o.capacity="",o.building="",o.floorNumber="",o.initAttributes(n),o}return r(t,e),t.collectionName="resources",t.attributes={object:a.default.String({modelKey:"object",readOnly:!0}),email:a.default.String({modelKey:"email"}),name:a.default.String({modelKey:"name"}),capacity:a.default.String({modelKey:"capacity",readOnly:!0}),building:a.default.String({modelKey:"building",readOnly:!0}),floorName:a.default.String({modelKey:"floorName",jsonKey:"floor_name",readOnly:!0}),floorNumber:a.default.String({modelKey:"floorNumber",jsonKey:"floor_number",readOnly:!0})},t}(s.default);t.default=l},"./node_modules/nylas/lib/models/restful-model-collection.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/message.js")),l=s(n("./node_modules/nylas/lib/models/thread.js")),u=function(e){function t(t,n){var o=e.call(this,t,n,t.collectionName)||this;return o.modelClass=t,o._path="/"+o.modelClass.collectionName,o}return r(t,e),t.prototype.count=function(e,t){return void 0===e&&(e={}),this.connection.request({method:"GET",path:this.path(),qs:i({view:"count"},e),baseUrl:this.baseUrl}).then((function(e){return t&&t(null,e.count),Promise.resolve(e.count)})).catch((function(e){return t&&t(e),Promise.reject(e)}))},t.prototype.first=function(e,t){if(void 0===e&&(e={}),"count"==e.view){var n=new Error("first() cannot be called with the count view");return t&&t(n),Promise.reject(n)}return this.getItems(e,0,1).then((function(e){return t&&t(null,e[0]),Promise.resolve(e[0])})).catch((function(e){return t&&t(e),Promise.reject(e)}))},t.prototype.search=function(e,t,n){if(void 0===t&&(t={}),this.modelClass!=a.default&&this.modelClass!=l.default){var o=new Error("search() can only be called for messages and threads");return n&&n(o),Promise.reject(o)}if(!e){o=new Error("search() requires a query string");return n&&n(o),Promise.reject(o)}t.q=e;var r=t.limit||40,i=t.offset,s=this.path()+"/search";return this.range({params:t,offset:i,limit:r,path:s})},t.prototype.delete=function(e,t,n){if(void 0===t&&(t={}),!e){var o=new Error("delete() requires an item or an id");return n&&n(o),Promise.reject(o)}"function"==typeof t&&(n=t,t={});var r="string"==typeof e?this.build({id:e}):e,i=r.deleteRequestOptions(t);return i.item=r,this.deleteItem(i,n)},t.prototype.deleteItem=function(e,t){var n=e.item,o=e.callback?e.callback:t,r=e.hasOwnProperty("body")?e.body:n.deleteRequestBody({}),i=e.hasOwnProperty("qs")?e.qs:n.deleteRequestQueryString({});return this.connection.request({method:"DELETE",qs:i,body:r,path:this.path()+"/"+n.id,baseUrl:this.baseUrl}).then((function(e){return o&&o(null,e),Promise.resolve(e)})).catch((function(e){return o&&o(e),Promise.reject(e)}))},t.prototype.build=function(e){var t=this.createModel({});for(var n in e)t[n]=e[n];return t},t.prototype.createModel=function(e){return new this.modelClass(this.connection).fromJSON(e)},t}(s(n("./node_modules/nylas/lib/models/model-collection.js")).default);t.default=u},"./node_modules/nylas/lib/models/restful-model-instance.js":function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./node_modules/nylas/lib/nylas-connection.js")),i=function(){function e(e,t){if(this.modelClass=e,this.connection=t,!(this.connection instanceof r.default))throw new Error("Connection object not provided");if(!this.modelClass)throw new Error("Model class not provided")}return e.prototype.path=function(){return"/"+this.modelClass.endpointName},e.prototype.get=function(e){var t=this;return void 0===e&&(e={}),this.connection.request({method:"GET",path:this.path(),qs:e}).then((function(e){var n=new t.modelClass(t.connection).fromJSON(e);return Promise.resolve(n)}))},e}();t.default=i},"./node_modules/nylas/lib/models/restful-model.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/attributes.js")),a=function(e){function t(t,n){var o=e.call(this)||this;if(o.connection=t,!o.connection)throw new Error("Connection object not provided");return o.id=(null==n?void 0:n.id)?n.id:void 0,o.accountId=(null==n?void 0:n.accountId)?n.accountId:void 0,o.object=(null==n?void 0:n.object)?n.object:void 0,o}return r(t,e),t.propsFromJSON=function(t,n){return void 0===t&&(t={}),e.propsFromJSON.call(this,t,n)},t.prototype.isEqual=function(e){return(e?e.id:void 0)===this.id&&(e?e.constructor:void 0)===this.constructor},t.prototype.fromJSON=function(t){return void 0===t&&(t={}),e.prototype.fromJSON.call(this,t)},t.prototype.pathPrefix=function(){return""},t.prototype.saveEndpoint=function(){var e=this.constructor.collectionName;return this.pathPrefix()+"/"+e},t.prototype.deleteRequestQueryString=function(e){return{}},t.prototype.deleteRequestBody=function(e){return{}},t.prototype.deleteRequestOptions=function(e){return{body:this.deleteRequestBody(e),qs:this.deleteRequestQueryString(e)}},t.prototype.save=function(e,t){var n=this;return void 0===e&&(e={}),"function"==typeof e&&(t=e,e={}),this.connection.request({method:this.id?"PUT":"POST",body:this.saveRequestBody(),qs:e,path:this.id?this.saveEndpoint()+"/"+this.id:""+this.saveEndpoint(),baseUrl:this.baseUrl}).then((function(e){var o=n.fromJSON(e);return t&&t(null,n),Promise.resolve(o)})).catch((function(e){return t&&t(e),Promise.reject(e)}))},t.prototype.get=function(e,t,n){void 0===e&&(e={}),void 0===n&&(n="");var o=this.constructor.collectionName;return this.connection.request({method:"GET",path:"/"+o+"/"+this.id+n,qs:e,baseUrl:this.baseUrl}).then((function(e){return t&&t(null,e),Promise.resolve(e)})).catch((function(e){return t&&t(e),Promise.reject(e)}))},t.endpointName="",t.collectionName="",t.attributes={id:s.default.String({modelKey:"id",readOnly:!0}),object:s.default.String({modelKey:"object",readOnly:!0}),accountId:s.default.String({modelKey:"accountId",jsonKey:"account_id",readOnly:!0})},t}(i(n("./node_modules/nylas/lib/models/model.js")).default);t.default=a},"./node_modules/nylas/lib/models/scheduler-booking-request.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/attributes.js")),a=i(n("./node_modules/nylas/lib/models/scheduler-time-slot.js")),l=i(n("./node_modules/nylas/lib/models/model.js")),u=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={id:s.default.Number({modelKey:"id"}),accountId:s.default.String({modelKey:"accountId",jsonKey:"account_id"}),additionalFieldValues:s.default.Object({modelKey:"additionalFieldValues",jsonKey:"additional_field_values"}),calendarEventId:s.default.String({modelKey:"calendarEventId",jsonKey:"calendar_event_id"}),calendarId:s.default.String({modelKey:"calendarId",jsonKey:"calendar_id"}),editHash:s.default.String({modelKey:"editHash",jsonKey:"edit_hash"}),startTime:s.default.DateTime({modelKey:"startTime",jsonKey:"start_time"}),endTime:s.default.DateTime({modelKey:"endTime",jsonKey:"end_time"}),isConfirmed:s.default.Boolean({modelKey:"isConfirmed",jsonKey:"is_confirmed"}),location:s.default.String({modelKey:"location"}),recipientEmail:s.default.String({modelKey:"recipientEmail",jsonKey:"recipient_email"}),recipientLocale:s.default.String({modelKey:"recipientLocale",jsonKey:"recipient_locale"}),recipientName:s.default.String({modelKey:"recipientName",jsonKey:"recipient_name"}),recipientTz:s.default.String({modelKey:"recipientTz",jsonKey:"recipient_tz"}),title:s.default.String({modelKey:"title"})},t}(l.default);t.SchedulerBookingConfirmation=u;var c=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.prototype.toJSON=function(t){var n=e.prototype.toJSON.call(this,t);return this.additionalEmails||(n.additional_emails=[]),this.additionalValues||(n.additional_values={}),n},t.attributes={additionalEmails:s.default.StringList({modelKey:"additionalEmails",jsonKey:"additional_emails"}),additionalValues:s.default.Object({modelKey:"additionalValues",jsonKey:"additional_values"}),email:s.default.String({modelKey:"email"}),locale:s.default.String({modelKey:"locale"}),name:s.default.String({modelKey:"name"}),pageHostname:s.default.String({modelKey:"pageHostname",jsonKey:"page_hostname"}),replacesBookingHash:s.default.String({modelKey:"replacesBookingHash",jsonKey:"replaces_booking_hash"}),slot:s.default.Object({modelKey:"slot",itemClass:a.default}),timezone:s.default.String({modelKey:"timezone"})},t}(l.default);t.default=c},"./node_modules/nylas/lib/models/scheduler-restful-model-collection.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/restful-model-collection.js")),a=i(n("./node_modules/nylas/lib/models/scheduler.js")),l=i(n("./node_modules/nylas/lib/models/scheduler-time-slot.js")),u=n("./node_modules/nylas/lib/models/scheduler-booking-request.js"),c=function(e){function t(t){var n=e.call(this,a.default,t)||this;return n.baseUrl="https://api.schedule.nylas.com",n.connection=t,n.modelClass=a.default,n}return r(t,e),t.prototype.getGoogleAvailability=function(){return this.connection.request({method:"GET",path:"/schedule/availability/google",headers:{"Content-Type":"application/json"},baseUrl:this.baseUrl})},t.prototype.getOffice365Availability=function(){return this.connection.request({method:"GET",path:"/schedule/availability/o365",headers:{"Content-Type":"application/json"},baseUrl:this.baseUrl})},t.prototype.getPageBySlug=function(e){var t=this;return this.connection.request({method:"GET",path:"/schedule/"+e+"/info",headers:{"Content-Type":"application/json"},baseUrl:this.baseUrl}).then((function(e){return Promise.resolve(new a.default(t.connection).fromJSON(e))}))},t.prototype.getAvailableTimeSlots=function(e){return this.connection.request({method:"GET",path:"/schedule/"+e+"/timeslots",headers:{"Content-Type":"application/json"},baseUrl:this.baseUrl}).then((function(e){var t=e.map((function(e){return(new l.default).fromJSON(e)}));return Promise.resolve(t)}))},t.prototype.bookTimeSlot=function(e,t){return this.connection.request({method:"POST",path:"/schedule/"+e+"/timeslots",headers:{"Content-Type":"application/json"},body:t.toJSON(),baseUrl:this.baseUrl}).then((function(e){return Promise.resolve((new u.SchedulerBookingConfirmation).fromJSON(e))}))},t.prototype.cancelBooking=function(e,t,n){return this.connection.request({method:"POST",path:"/schedule/"+e+"/"+t+"/cancel",headers:{"Content-Type":"application/json"},body:{reason:n},baseUrl:this.baseUrl}).then((function(e){return Promise.resolve(e)}))},t.prototype.confirmBooking=function(e,t){return this.connection.request({method:"POST",path:"/schedule/"+e+"/"+t+"/confirm",headers:{"Content-Type":"application/json"},body:{},baseUrl:this.baseUrl}).then((function(e){return Promise.resolve((new u.SchedulerBookingConfirmation).fromJSON(e))}))},t}(s.default);t.default=c},"./node_modules/nylas/lib/models/scheduler-time-slot.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/attributes.js")),a=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={accountId:s.default.String({modelKey:"accountId",jsonKey:"account_id"}),calendarId:s.default.String({modelKey:"calendarId",jsonKey:"calendar_id"}),hostName:s.default.String({modelKey:"hostName",jsonKey:"host_name"}),emails:s.default.StringList({modelKey:"emails"}),start:s.default.DateTime({modelKey:"start"}),end:s.default.DateTime({modelKey:"end"})},t}(i(n("./node_modules/nylas/lib/models/model.js")).default);t.default=a},"./node_modules/nylas/lib/models/scheduler.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(n("./node_modules/nylas/lib/models/restful-model.js")),l=s(n("./node_modules/nylas/lib/models/attributes.js")),u=s(n("./node_modules/nylas/lib/models/model.js")),c=s(n("./node_modules/nylas/lib/models/calendar.js")),d=function(e){function t(t){var n=e.call(this)||this;return n.id="",n.name="",n.email="",n.calendars=[],n.initAttributes(t),n}return r(t,e),Object.defineProperty(t.prototype,"connection",{get:function(){return this._connection},enumerable:!0,configurable:!0}),t.prototype.fromJSON=function(t,n){return n&&(this._connection=n),e.prototype.fromJSON.call(this,t)},t.attributes={calendars:l.default.Collection({modelKey:"calendars",itemClass:c.default}),email:l.default.String({modelKey:"email"}),id:l.default.String({modelKey:"id"}),name:l.default.String({modelKey:"name"})},t}(u.default);t.SchedulerAvailableCalendars=d;var f=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={color:l.default.String({modelKey:"color"}),companyName:l.default.String({modelKey:"companyName",jsonKey:"company_name"}),logo:l.default.String({modelKey:"logo"}),privacyPolicyRedirect:l.default.String({modelKey:"privacyPolicyRedirect",jsonKey:"privacy_policy_redirect"}),showAutoschedule:l.default.Boolean({modelKey:"showAutoschedule",jsonKey:"show_autoschedule"}),showNylasBranding:l.default.Boolean({modelKey:"showNylasBranding",jsonKey:"show_nylas_branding"}),showTimezoneOptions:l.default.Boolean({modelKey:"showTimezoneOptions",jsonKey:"show_timezone_options"}),showWeekView:l.default.Boolean({modelKey:"showWeekView",jsonKey:"show_week_view"}),submitText:l.default.String({modelKey:"submitText",jsonKey:"submit_text"}),thankYouRedirect:l.default.String({modelKey:"thankYouRedirect",jsonKey:"thank_you_redirect"}),thankYouText:l.default.String({modelKey:"thankYouText",jsonKey:"thank_you_text"}),thankYouTextSecondary:l.default.String({modelKey:"thankYouTextSecondary",jsonKey:"thank_you_text_secondary"})},t}(u.default);t.SchedulerAppearance=f;var p=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={dropdownOptions:l.default.StringList({modelKey:"dropdownOptions",jsonKey:"dropdown_options"}),label:l.default.String({modelKey:"label"}),multiSelectOptions:l.default.StringList({modelKey:"multiSelectOptions",jsonKey:"multi_select_options"}),name:l.default.String({modelKey:"name"}),order:l.default.Number({modelKey:"order"}),pattern:l.default.String({modelKey:"pattern"}),required:l.default.Boolean({modelKey:"required"}),type:l.default.String({modelKey:"type"})},t}(u.default);t.SchedulerBookingAdditionalFields=p;var h=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={accountId:l.default.String({modelKey:"accountId",jsonKey:"account_id"}),days:l.default.StringList({modelKey:"days"}),end:l.default.String({modelKey:"end"}),start:l.default.String({modelKey:"start"})},t}(u.default);t.SchedulerBookingOpeningHours=h;var y=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={additionalFields:l.default.Collection({modelKey:"additionalFields",jsonKey:"additional_fields",itemClass:p}),additionalGuestsHidden:l.default.Boolean({modelKey:"additionalGuestsHidden",jsonKey:"additional_guests_hidden"}),availableDaysInFuture:l.default.Number({modelKey:"availableDaysInFuture",jsonKey:"available_days_in_future"}),calendarInviteToGuests:l.default.Boolean({modelKey:"calendarInviteToGuests",jsonKey:"calendar_invite_to_guests"}),cancellationPolicy:l.default.String({modelKey:"cancellationPolicy",jsonKey:"cancellation_policy"}),confirmationEmailsToGuests:l.default.Boolean({modelKey:"confirmationEmailsToGuests",jsonKey:"confirmation_emails_to_guests"}),confirmationEmailToHost:l.default.Boolean({modelKey:"confirmationEmailToHost",jsonKey:"confirmation_emails_to_host"}),confirmationMethod:l.default.String({modelKey:"confirmationMethod",jsonKey:"confirmation_method"}),minBookingNotice:l.default.Number({modelKey:"minBookingNotice",jsonKey:"min_booking_notice"}),minBuffer:l.default.Number({modelKey:"minBuffer",jsonKey:"min_buffer"}),minCancellationNotice:l.default.Number({modelKey:"minCancellationNotice",jsonKey:"min_cancellation_notice"}),intervalMinutes:l.default.Number({modelKey:"intervalMinutes",jsonKey:"interval_minutes"}),nameFieldHidden:l.default.Boolean({modelKey:"nameFieldHidden",jsonKey:"name_field_hidden"}),openingHours:l.default.Collection({modelKey:"openingHours",jsonKey:"opening_hours",itemClass:h}),schedulingMethod:l.default.String({modelKey:"schedulingMethod",jsonKey:"scheduling_method"})},t}(u.default);t.SchedulerBooking=y;var m=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={deliveryMethod:l.default.String({modelKey:"deliveryMethod",jsonKey:"delivery_method"}),deliveryRecipient:l.default.String({modelKey:"deliveryRecipient",jsonKey:"delivery_recipient"}),emailSubject:l.default.String({modelKey:"emailSubject",jsonKey:"email_subject"}),timeBeforeEvent:l.default.Number({modelKey:"timeBeforeEvent",jsonKey:"time_before_event"}),webhookUrl:l.default.String({modelKey:"webhookUrl",jsonKey:"webhook_url"})},t}(u.default);t.SchedulerReminders=m;var _=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.attributes={appearance:l.default.Object({modelKey:"appearance",itemClass:f}),booking:l.default.Object({modelKey:"booking",itemClass:y}),calendarIds:l.default.Object({modelKey:"calendarIds",jsonKey:"calendar_ids"}),event:l.default.Object({modelKey:"event"}),expireAfter:l.default.Object({modelKey:"expireAfter",jsonKey:"expire_after"}),disableEmails:l.default.Boolean({modelKey:"disableEmails",jsonKey:"disable_emails"}),locale:l.default.String({modelKey:"locale"}),localeForGuests:l.default.String({modelKey:"localeForGuests",jsonKey:"locale_for_guests"}),reminders:l.default.Collection({modelKey:"reminders",itemClass:m}),timezone:l.default.String({modelKey:"timezone"})},t}(u.default);t.SchedulerConfig=_;var b=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.initAttributes(n),o.baseUrl="https://api.schedule.nylas.com",o}return r(t,e),t.prototype.save=function(t,n){return void 0===t&&(t={}),this.validate(),e.prototype.save.call(this,t,n)},t.prototype.getAvailableCalendars=function(){var e=this;if(!this.id)throw new Error("Cannot get calendars for a page without an ID.");return this.connection.request({method:"GET",path:"/manage/pages/"+this.id+"/calendars",headers:{"Content-Type":"application/json"},baseUrl:this.baseUrl}).then((function(t){var n=t.map((function(t){return(new d).fromJSON(t,e.connection)}));return Promise.resolve(n)}))},t.prototype.uploadImage=function(e,t){if(!this.id)throw new Error("Cannot upload an image to a page without an ID.");return this.connection.request({method:"PUT",path:"/manage/pages/"+this.id+"/upload-image",headers:{"Content-Type":"application/json"},body:{contentType:e,objectName:t},baseUrl:this.baseUrl})},t.prototype.validate=function(){var e,t,n=null===(t=null===(e=this.config)||void 0===e?void 0:e.booking)||void 0===t?void 0:t.intervalMinutes;if(void 0!==n&&(n<=0||n%5!=0))throw new Error("SchedulerBooking.intervalMinutes must be a non-zero positive integer, divisible by 5.")},t.collectionName="manage/pages",t.attributes=i(i({},a.default.attributes),{accessTokens:l.default.StringList({modelKey:"accessTokens",jsonKey:"access_tokens"}),appClientId:l.default.String({modelKey:"appClientId",jsonKey:"app_client_id",readOnly:!0}),appOrganizationId:l.default.Number({modelKey:"appOrganizationId",jsonKey:"app_organization_id",readOnly:!0}),config:l.default.Object({modelKey:"config",itemClass:_}),editToken:l.default.String({modelKey:"editToken",jsonKey:"edit_token",readOnly:!0}),name:l.default.String({modelKey:"name"}),slug:l.default.String({modelKey:"slug"}),createdAt:l.default.Date({modelKey:"createdAt",jsonKey:"created_at",readOnly:!0}),modifiedAt:l.default.Date({modelKey:"modifiedAt",jsonKey:"modified_at",readOnly:!0})}),t}(a.default);t.default=b},"./node_modules/nylas/lib/models/thread.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n("./node_modules/nylas/lib/models/message.js")),u=s(n("./node_modules/nylas/lib/models/restful-model.js")),c=s(n("./node_modules/nylas/lib/models/attributes.js")),d=s(n("./node_modules/nylas/lib/models/email-participant.js")),f=a(n("./node_modules/nylas/lib/models/folder.js")),p=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.subject="",o.participants=[],o.lastMessageTimestamp=new Date,o.lastMessageReceivedTimestamp=new Date,o.firstMessageTimestamp=new Date,o.messageIds=[],o.snippet="",o.unread=!1,o.starred=!1,o.version="",o.initAttributes(n),o}return r(t,e),t.prototype.saveRequestBody=function(){var e={};return this.labels?e.label_ids=this.labels.map((function(e){return e.id})):this.folders&&1===this.folders.length&&(e.folder_id=this.folders[0].id),e.starred=this.starred,e.unread=this.unread,e},t.prototype.save=function(t,n){return void 0===t&&(t={}),e.prototype.save.call(this,t,n)},t.collectionName="threads",t.attributes=i(i({},u.default.attributes),{subject:c.default.String({modelKey:"subject"}),participants:c.default.Collection({modelKey:"participants",itemClass:d.default}),lastMessageTimestamp:c.default.DateTime({modelKey:"lastMessageTimestamp",jsonKey:"last_message_timestamp"}),lastMessageReceivedTimestamp:c.default.DateTime({modelKey:"lastMessageReceivedTimestamp",jsonKey:"last_message_received_timestamp"}),lastMessageSentTimestamp:c.default.DateTime({modelKey:"lastMessageSentTimestamp",jsonKey:"last_message_sent_timestamp"}),firstMessageTimestamp:c.default.DateTime({modelKey:"firstMessageTimestamp",jsonKey:"first_message_timestamp"}),snippet:c.default.String({modelKey:"snippet"}),unread:c.default.Boolean({modelKey:"unread"}),starred:c.default.Boolean({modelKey:"starred"}),hasAttachments:c.default.Boolean({modelKey:"has_attachments"}),version:c.default.String({modelKey:"version",jsonKey:"version"}),folders:c.default.Collection({modelKey:"folders",itemClass:f.default,jsonKey:"folders"}),labels:c.default.Collection({modelKey:"labels",itemClass:f.Label,jsonKey:"labels"}),messageIds:c.default.StringList({modelKey:"messageIds",jsonKey:"message_ids"}),draftIds:c.default.StringList({modelKey:"draftIds",jsonKey:"draft_ids"}),messages:c.default.Collection({modelKey:"messages",itemClass:l.default}),drafts:c.default.Collection({modelKey:"drafts",itemClass:l.default})}),t}(u.default);t.default=p},"./node_modules/nylas/lib/models/webhook.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/management-model.js")),a=i(n("./node_modules/nylas/lib/models/attributes.js"));!function(e){e.AccountConnected="account.connected",e.AccountRunning="account.running",e.AccountStopped="account.stopped",e.AccountInvalid="account.invalid",e.AccountSyncError="account.sync_error",e.MessageBounced="message.bounced",e.MessageCreated="message.created",e.MessageOpened="message.opened",e.MessageUpdated="message.updated",e.MessageLinkClicked="message.link_clicked",e.ThreadReplied="thread.replied",e.ContactCreated="contact.created",e.ContactUpdated="contact.updated",e.ContactDeleted="contact.deleted",e.CalendarCreated="calendar.created",e.CalendarUpdated="calendar.updated",e.CalendarDeleted="calendar.deleted",e.EventCreated="event.created",e.EventUpdated="event.updated",e.EventDeleted="event.deleted",e.JobSuccessful="job.successful",e.JobFailed="job.failed"}(t.WebhookTriggers||(t.WebhookTriggers={}));var l=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.callbackUrl="",r.state="",r.triggers=[],r.initAttributes(o),r}return r(t,e),t.prototype.pathPrefix=function(){return"/a/"+this.clientId},t.prototype.saveRequestBody=function(){var e={};return this.id?e.state=this.state:(e.callback_url=this.callbackUrl,e.state=this.state?this.state:"active",e.triggers=t.attributes.triggers.toJSON(this.triggers)),e},t.prototype.save=function(t,n){return void 0===t&&(t={}),e.prototype.save.call(this,t,n)},t.collectionName="webhooks",t.attributes={id:a.default.String({modelKey:"id"}),applicationId:a.default.String({modelKey:"applicationId",jsonKey:"application_id"}),callbackUrl:a.default.String({modelKey:"callbackUrl",jsonKey:"callback_url"}),state:a.default.String({modelKey:"state"}),triggers:a.default.StringList({modelKey:"triggers"}),version:a.default.String({modelKey:"version"})},t}(s.default);t.default=l},"./node_modules/nylas/lib/models/when.js":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("./node_modules/nylas/lib/models/model.js")),a=i(n("./node_modules/nylas/lib/models/attributes.js")),l=function(e){function t(t){var n=e.call(this)||this;return n.initAttributes(t),n}return r(t,e),t.prototype.isSet=function(){return null!=this.startTime&&null!=this.endTime||null!=this.time||null!=this.startDate&&null!=this.endDate||null!=this.date},t.attributes={startTime:a.default.Number({modelKey:"startTime",jsonKey:"start_time"}),endTime:a.default.Number({modelKey:"endTime",jsonKey:"end_time"}),startTimezone:a.default.String({modelKey:"startTimezone",jsonKey:"start_timezone"}),endTimezone:a.default.String({modelKey:"endTimezone",jsonKey:"end_timezone"}),time:a.default.Number({modelKey:"time"}),timezone:a.default.String({modelKey:"timezone"}),startDate:a.default.String({modelKey:"startDate",jsonKey:"start_date"}),endDate:a.default.String({modelKey:"endDate",jsonKey:"end_date"}),date:a.default.String({modelKey:"date"}),object:a.default.String({modelKey:"object",readOnly:!0})},t}(s.default);t.default=l},"./node_modules/nylas/lib/nylas-connection.js":function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n("./node_modules/url/url.js"),l=r(n("./node_modules/abort-controller/browser.js")),u=i(n("./node_modules/node-fetch/browser.js")),c=i(n("./node_modules/nylas/lib/config.js")),d=r(n("./node_modules/nylas/lib/models/restful-model-collection.js")),f=r(n("./node_modules/nylas/lib/models/calendar-restful-model-collection.js")),p=r(n("./node_modules/nylas/lib/models/contact-restful-model-collection.js")),h=r(n("./node_modules/nylas/lib/models/restful-model-instance.js")),y=r(n("./node_modules/nylas/lib/models/account.js")),m=r(n("./node_modules/nylas/lib/models/thread.js")),_=r(n("./node_modules/nylas/lib/models/draft.js")),b=r(n("./node_modules/nylas/lib/models/file.js")),v=r(n("./node_modules/nylas/lib/models/event.js")),g=r(n("./node_modules/nylas/lib/models/resource.js")),j=i(n("./node_modules/nylas/lib/models/folder.js")),S=r(n("./node_modules/form-data/lib/browser.js")),O=r(n("./node_modules/nylas/lib/models/neural.js")),w=r(n("./node_modules/nylas/lib/models/nylas-api-error.js")),K=r(n("./node_modules/nylas/lib/models/component-restful-model-collection.js")),A=r(n("./node_modules/nylas/lib/models/scheduler-restful-model-collection.js")),P=r(n("./node_modules/nylas/lib/models/message-restful-model-collection.js")),E=r(n("./node_modules/nylas/lib/models/delta-collection.js")),k=r(n("./node_modules/nylas/lib/models/outbox.js")),T=r(n("./node_modules/nylas/lib/models/job-status-restful-model-collection.js")),x=r(n("./node_modules/nylas/lib/models/rate-limit-error.js")),I=n("./node_modules/nylas/package.json").version,N="2.5";!function(e){e[e.BASIC=0]="BASIC",e[e.BEARER=1]="BEARER"}(s=t.AuthMethod||(t.AuthMethod={}));var C=function(){function e(e,t){var n=t.clientId;this.threads=new d.default(m.default,this),this.contacts=new p.default(this),this.messages=new P.default(this),this.drafts=new d.default(_.default,this),this.files=new d.default(b.default,this),this.calendars=new f.default(this),this.jobStatuses=new T.default(this),this.events=new d.default(v.default,this),this.resources=new d.default(g.default,this),this.deltas=new E.default(this),this.labels=new d.default(j.Label,this),this.folders=new d.default(j.default,this),this.account=new h.default(y.default,this),this.component=new K.default(this),this.scheduler=new A.default(this),this.outbox=new k.default(this),this.neural=new O.default(this),this.accessToken=e,this.clientId=n}return e.prototype.requestOptions=function(e){var t=e.baseUrl?e.baseUrl:c.apiServer,n=new a.URL(""+t+e.path);if(e.qs)for(var r=0,i=Object.entries(e.qs);r<i.length;r++){var l=i[r],u=l[0],d=l[1];if("expanded"===u)!0===d&&n.searchParams.set("view","expanded");else if("metadata_pair"==u)for(var f in d)n.searchParams.set("metadata_pair",f+":"+d[f]);else if(Array.isArray(d))for(var p=0,h=d;p<h.length;p++){f=h[p];n.searchParams.append(u,f)}else n.searchParams.set(u,d)}e.url=n;var y=o({},e.headers),m="/a/"===e.path.substr(0,3)||e.path.includes("/component")?c.clientSecret:this.accessToken;if(m&&(e.authMethod===s.BEARER?y.authorization="Bearer "+m:y.authorization="Basic "+Buffer.from(m+":","utf8").toString("base64")),y["User-Agent"]||(y["User-Agent"]="Nylas Node SDK v"+I),y["Nylas-API-Version"]=N,y["Nylas-SDK-API-Version"]=N,null!=this.clientId&&(y["X-Nylas-Client-Id"]=this.clientId),e.headers=y,e.formData){for(var _=new S.default,b=0,v=Object.entries(e.formData);b<v.length;b++){var g=v[b],j=(u=g[0],g[1]);j.options?_.append(u,j.value,j.options):_.append(u,j.value)}e.body=_}else e.body&&!1!==e.json&&(e.body=JSON.stringify(e.body));return e},e.prototype.newRequest=function(e){var t=this.requestOptions(e);return new u.Request(t.url||"",{method:t.method||"GET",headers:t.headers,body:t.body})},e.prototype.getWarningForVersion=function(e,t){var n="";if(e!=t&&e&&t){n+="WARNING: SDK version may not support your Nylas API version. SDK supports version "+e+" of the API and your application is currently running on version "+t+" of the API.";var o=parseInt(t.split("-")[0]),r=parseInt(e.split("-")[0]);r>o?n+=" Please update the version of the API that your application is using through the developer dashboard.":o>r&&(n+=" Please update the sdk to ensure it works properly.")}return n},e.prototype.request=function(e){var t,n,o=this,r=this.newRequest(e);return c.timeout&&0!==c.timeout&&(t=new l.default,n=setTimeout((function(){t.abort()}),150)),new Promise((function(i,s){return u.default(r,{signal:null==t?void 0:t.signal}).then((function(t){if(void 0===t)return s(new Error("No response"));var n=t.headers.get("nylas-api-version"),r=o.getWarningForVersion(N,n);return r&&console.warn(r),t.status>299?t.text().then((function(e){try{var n=JSON.parse(e),o=void 0;return o=t.status===x.default.RATE_LIMIT_STATUS_CODE?x.default.parseErrorResponse(n,t.headers):new w.default(t.status,n.type,n.message),n.missing_fields&&(o.missingFields=n.missing_fields),n.server_error&&(o.serverError=n.server_error),s(o)}catch(n){o=new w.default(t.status,t.statusText,e);return s(o)}})):e.downloadRequest?void t.buffer().then((function(e){var n={};return t.headers.forEach((function(e,t){n[t]=e})),n.body=e,i(n)})).catch((function(e){return s(e)})):t.headers.get("content-length")&&0==Number(t.headers.get("content-length"))?i(void 0):"message/rfc822"===t.headers.get("Content-Type")?i(t.text()):t.text().then((function(e){try{return i(JSON.parse(e))}catch(t){return i(e)}}))})).catch((function(e){return e&&e.name&&"AbortError"===e.name?(console.warn("Request timed out"),s(e)):(console.error("Error encountered during request:\n"+e.stack),s(e))})).then((function(){clearTimeout(n)}))}))},e}();t.default=C},"./node_modules/nylas/lib/nylas.js":function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=n("./node_modules/url/url.js"),s=o(n("./node_modules/node-fetch/browser.js")),a=r(n("./node_modules/nylas/lib/config.js")),l=o(n("./node_modules/nylas/lib/nylas-connection.js")),u=o(n("./node_modules/nylas/lib/models/management-account.js")),c=o(n("./node_modules/nylas/lib/models/account.js")),d=o(n("./node_modules/nylas/lib/models/connect.js")),f=o(n("./node_modules/nylas/lib/models/restful-model-collection.js")),p=o(n("./node_modules/nylas/lib/models/management-model-collection.js")),h=o(n("./node_modules/nylas/lib/models/webhook.js")),y=n("./node_modules/nylas/lib/config.js"),m=o(n("./node_modules/nylas/lib/models/access-token.js")),_=o(n("./node_modules/nylas/lib/models/application-details.js")),b=function(){function e(){}return Object.defineProperty(e,"clientSecret",{get:function(){return a.clientSecret},set:function(e){a.setClientSecret(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"apiServer",{get:function(){return a.apiServer},set:function(e){a.setApiServer(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"timeout",{get:function(){return a.timeout},set:function(e){a.setTimeout(e)},enumerable:!0,configurable:!0}),e.config=function(e){if(e.apiServer&&-1===e.apiServer.indexOf("://"))throw new Error("Please specify a fully qualified URL for the API Server.");e.clientId&&(this.clientId=e.clientId),e.clientSecret&&(this.clientSecret=e.clientSecret),e.apiServer?this.apiServer=e.apiServer:this.apiServer="https://api.nylas.com",this.timeout=e.timeout||0;var t=new l.default(this.clientSecret,{clientId:this.clientId});return this.connect=new d.default(t,this.clientId,this.clientSecret),this.webhooks=new p.default(h.default,t,this.clientId),this.clientCredentials()?this.accounts=new p.default(u.default,t,this.clientId):this.accounts=new f.default(c.default,t),this},e.clientCredentials=function(){return null!=this.clientId&&null!=this.clientSecret},e.with=function(e){if(!e)throw new Error("This function requires an access token");return new l.default(e,{clientId:this.clientId})},e.application=function(e){if(!this.clientId)throw new Error("This function requires a clientId");if(!this.clientSecret)throw new Error("This function requires a clientSecret");var t=new l.default(null,{clientId:this.clientId}),n={path:"/a/"+this.clientId};return e&&(n.body={application_name:e.applicationName,icon_url:e.iconUrl,redirect_uris:e.redirectUris},n.method="PUT"),t.request(n).then((function(e){return(new _.default).fromJSON(e)}))},e.exchangeCodeForToken=function(e,t){if(!this.clientId||!this.clientSecret)throw new Error("exchangeCodeForToken() cannot be called until you provide a clientId and secret via config()");if(!e)throw new Error("exchangeCodeForToken() must be called with a code");var n=new i.URL(this.apiServer+"/oauth/token");return n.searchParams.set("client_id",this.clientId),n.searchParams.set("client_secret",this.clientSecret),n.searchParams.set("grant_type","authorization_code"),n.searchParams.set("code",e),s.default(n).then((function(e){if(e.ok)return e.json()})).then((function(e){if(!e||!e.access_token){var n="No access token in response";throw e&&e.message&&(n=e.message),new Error(n)}return t&&t(null,e),(new m.default).fromJSON(e)}),(function(e){var n=new Error(e.message);throw t&&t(n),n}))},e.urlForAuthentication=function(e){if(!this.clientId)throw new Error("urlForAuthentication() cannot be called until you provide a clientId via config()");if(!e.redirectURI)throw new Error("urlForAuthentication() requires options.redirectURI");e.loginHint||(e.loginHint="");var t=this.apiServer+"/oauth/authorize?client_id="+this.clientId+"&response_type="+(e.responseType||y.ResponseType.CODE)+"&login_hint="+e.loginHint+"&redirect_uri="+e.redirectURI;return null!=e.state&&(t+="&state="+e.state),null!=e.scopes&&(t+="&scopes="+e.scopes.join(",")),null!=e.provider&&(t+="&provider="+e.provider),e.redirectOnError&&(t+="&redirect_on_error=true"),t},e.revoke=function(t){return e.with(t).request({method:"POST",path:"/oauth/revoke"}).catch((function(e){return Promise.reject(e)}))},e.clientId="",e}();e.exports=b},"./node_modules/precond/index.js":(e,t,n)=>{e.exports=n("./node_modules/precond/lib/checks.js")},"./node_modules/precond/lib/checks.js":(e,t,n)=>{var o=n("./node_modules/util/util.js"),r=e.exports=n("./node_modules/precond/lib/errors.js");function i(e,t,n,r){n=n||"";var i=new e(o.format.apply(this,[n].concat(r)));throw Error.captureStackTrace(i,t),i}function s(e,t,n){i(r.IllegalArgumentError,e,t,n)}function a(e,t,n){i(r.IllegalStateError,e,t,n)}function l(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array"}return t}function u(e){return function(t,n){var o=l(t);if(o==e)return t;s(arguments.callee,n||'Expected "'+e+'" but got "'+o+'".',Array.prototype.slice.call(arguments,2))}}e.exports.checkArgument=function(e,t){e||s(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkState=function(e,t){e||a(arguments.callee,t,Array.prototype.slice.call(arguments,2))},e.exports.checkIsDef=function(e,t){if(void 0!==e)return e;s(arguments.callee,t||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},e.exports.checkIsDefAndNotNull=function(e,t){if(null!=e)return e;s(arguments.callee,t||'Expected value to be defined and not null but got "'+l(e)+'".',Array.prototype.slice.call(arguments,2))},e.exports.checkIsString=u("string"),e.exports.checkIsArray=u("array"),e.exports.checkIsNumber=u("number"),e.exports.checkIsBoolean=u("boolean"),e.exports.checkIsFunction=u("function"),e.exports.checkIsObject=u("object")},"./node_modules/precond/lib/errors.js":(e,t,n)=>{var o=n("./node_modules/util/util.js");function r(e){Error.call(this,e),this.message=e}function i(e){Error.call(this,e),this.message=e}o.inherits(r,Error),r.prototype.name="IllegalArgumentError",o.inherits(i,Error),i.prototype.name="IllegalStateError",e.exports.IllegalStateError=i,e.exports.IllegalArgumentError=r},"./node_modules/querystring/decode.js":e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,o,r){n=n||"&",o=o||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(n);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var c,d,f,p,h=e[u].replace(s,"%20"),y=h.indexOf(o);y>=0?(c=h.substr(0,y),d=h.substr(y+1)):(c=h,d=""),f=decodeURIComponent(c),p=decodeURIComponent(d),t(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i}},"./node_modules/querystring/encode.js":e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,o,r){return n=n||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var i=encodeURIComponent(t(r))+o;return Array.isArray(e[r])?e[r].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[r]))})).join(n):r?encodeURIComponent(t(r))+o+encodeURIComponent(t(e)):""}},"./node_modules/querystring/index.js":(e,t,n)=>{"use strict";t.decode=t.parse=n("./node_modules/querystring/decode.js"),t.encode=t.stringify=n("./node_modules/querystring/encode.js")},"./node_modules/stream/index.js":(e,t,n)=>{var o=n("./node_modules/emitter-component/index.js");function r(){o.call(this)}r.prototype=new o,e.exports=r,r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",r),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",a));var i=!1;function s(){i||(i=!0,e.end())}function a(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),!this.hasListeners("error"))throw e}function u(){n.off("data",o),e.off("drain",r),n.off("end",s),n.off("close",a),n.off("error",l),e.off("error",l),n.off("end",u),n.off("close",u),e.off("end",u),e.off("close",u)}return n.on("error",l),e.on("error",l),n.on("end",u),n.on("close",u),e.on("end",u),e.on("close",u),e.emit("pipe",n),e}},"./node_modules/through/index.js":(e,t,n)=>{var o=n("./node_modules/stream/index.js");function r(e,t,n){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var r=!1,i=!1,s=[],a=!1,l=new o;function u(){for(;s.length&&!l.paused;){var e=s.shift();if(null===e)return l.emit("end");l.emit("data",e)}}function c(){l.writable=!1,t.call(l),!l.readable&&l.autoDestroy&&l.destroy()}return l.readable=l.writable=!0,l.paused=!1,l.autoDestroy=!(n&&!1===n.autoDestroy),l.write=function(t){return e.call(this,t),!l.paused},l.queue=l.push=function(e){return a||(null===e&&(a=!0),s.push(e),u()),l},l.on("end",(function(){l.readable=!1,!l.writable&&l.autoDestroy&&process.nextTick((function(){l.destroy()}))})),l.end=function(e){if(!r)return r=!0,arguments.length&&l.write(e),c(),l},l.destroy=function(){if(!i)return i=!0,r=!0,s.length=0,l.writable=l.readable=!1,l.emit("close"),l},l.pause=function(){if(!l.paused)return l.paused=!0,l},l.resume=function(){return l.paused&&(l.paused=!1,l.emit("resume")),u(),l.paused||l.emit("drain"),l},l}e.exports=r,r.through=r},"./node_modules/url/node_modules/punycode/punycode.js":function(e,t,n){var o;e=n.nmd(e),function(r){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var s,a=2147483647,l=36,u=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function y(e){throw RangeError(f[e])}function m(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function _(e,t){var n=e.split("@"),o="";return n.length>1&&(o=n[0]+"@",e=n[1]),o+m((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,n,o=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--):o.push(t);return o}function v(e){return m(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function g(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,n){var o=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;o+=l)e=p(e/35);return p(o+36*e/(e+38))}function S(e){var t,n,o,r,i,s,u,c,d,f,h,m=[],_=e.length,b=0,g=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&y("not-basic"),m.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<_;){for(i=b,s=1,u=l;r>=_&&y("invalid-input"),((c=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||c>p((a-b)/s))&&y("overflow"),b+=c*s,!(c<(d=u<=S?1:u>=S+26?26:u-S));u+=l)s>p(a/(f=l-d))&&y("overflow"),s*=f;S=j(b-i,t=m.length+1,0==i),p(b/t)>a-g&&y("overflow"),g+=p(b/t),b%=t,m.splice(b++,0,g)}return v(m)}function O(e){var t,n,o,r,i,s,u,c,d,f,m,_,v,S,O,w=[];for(_=(e=b(e)).length,t=128,n=0,i=72,s=0;s<_;++s)(m=e[s])<128&&w.push(h(m));for(o=r=w.length,r&&w.push("-");o<_;){for(u=a,s=0;s<_;++s)(m=e[s])>=t&&m<u&&(u=m);for(u-t>p((a-n)/(v=o+1))&&y("overflow"),n+=(u-t)*v,t=u,s=0;s<_;++s)if((m=e[s])<t&&++n>a&&y("overflow"),m==t){for(c=n,d=l;!(c<(f=d<=i?1:d>=i+26?26:d-i));d+=l)O=c-f,S=l-f,w.push(h(g(f+O%S,0))),c=p(O/S);w.push(h(g(c,0))),i=j(n,v,o==r),n=0,++o}++n,++t}return w.join("")}s={version:"1.3.2",ucs2:{decode:b,encode:v},decode:S,encode:O,toASCII:function(e){return _(e,(function(e){return c.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return _(e,(function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()},"./node_modules/url/url.js":(e,t,n)=>{var o=n("./node_modules/url/node_modules/punycode/punycode.js");function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=_,t.resolve=function(e,t){return _(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?_(e,!1,!0).resolveObject(t):t},t.format=function(e){b(e)&&(e=_(e));return e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(a),u=["%","/","?",";","#"].concat(l),c=["/","?","#"],d=/^[a-z0-9A-Z_-]{0,63}$/,f=/^([a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n("./node_modules/querystring/index.js");function _(e,t,n){if(e&&v(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function b(e){return"string"==typeof e}function v(e){return"object"==typeof e&&null!==e}function g(e){return null===e}r.prototype.parse=function(e,t,n){if(!b(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var s=i.exec(r);if(s){var a=(s=s[0]).toLowerCase();this.protocol=a,r=r.substr(s.length)}if(n||s||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===r.substr(0,2);!_||s&&h[s]||(r=r.substr(2),this.slashes=!0)}if(!h[s]&&(_||s&&!y[s])){for(var v,g,j=-1,S=0;S<c.length;S++){-1!==(O=r.indexOf(c[S]))&&(-1===j||O<j)&&(j=O)}-1!==(g=-1===j?r.lastIndexOf("@"):r.lastIndexOf("@",j))&&(v=r.slice(0,g),r=r.slice(g+1),this.auth=decodeURIComponent(v)),j=-1;for(S=0;S<u.length;S++){var O;-1!==(O=r.indexOf(u[S]))&&(-1===j||O<j)&&(j=O)}-1===j&&(j=r.length),this.host=r.slice(0,j),r=r.slice(j),this.parseHost(),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w)for(var K=this.hostname.split(/\./),A=(S=0,K.length);S<A;S++){var P=K[S];if(P&&!P.match(d)){for(var E="",k=0,T=P.length;k<T;k++)P.charCodeAt(k)>127?E+="x":E+=P[k];if(!E.match(d)){var x=K.slice(0,S),I=K.slice(S+1),N=P.match(f);N&&(x.push(N[1]),I.unshift(N[2])),I.length&&(r="/"+I.join(".")+r),this.hostname=x.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!w){var C=this.hostname.split("."),M=[];for(S=0;S<C.length;++S){var D=C[S];M.push(D.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(D):D)}this.hostname=M.join(".")}var R=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+R,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!p[a])for(S=0,A=l.length;S<A;S++){var q=l[S],U=encodeURIComponent(q);U===q&&(U=escape(q)),r=r.split(q).join(U)}var L=r.indexOf("#");-1!==L&&(this.hash=r.substr(L),r=r.slice(0,L));var F=r.indexOf("?");if(-1!==F?(this.search=r.substr(F),this.query=r.substr(F+1),t&&(this.query=m.parse(this.query)),r=r.slice(0,F)):t&&(this.search="",this.query={}),r&&(this.pathname=r),y[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){R=this.pathname||"",D=this.search||"";this.path=R+D}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",o=this.hash||"",r=!1,i="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&v(this.query)&&Object.keys(this.query).length&&(i=m.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),o&&"#"!==o.charAt(0)&&(o="#"+o),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+o},r.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(b(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach((function(e){n[e]=this[e]}),this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(n[t]=e[t])})),y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol])return Object.keys(e).forEach((function(t){n[t]=e[t]})),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||h[e.protocol])n.pathname=e.pathname;else{for(var o=(e.pathname||"").split("/");o.length&&!(e.host=o.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var i=n.pathname||"",s=n.search||"";n.path=i+s}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),l=e.host||e.pathname&&"/"===e.pathname.charAt(0),u=l||a||n.host&&e.pathname,c=u,d=n.pathname&&n.pathname.split("/")||[],f=(o=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(f&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===o[0]?o[0]=e.host:o.unshift(e.host)),e.host=null),u=u&&(""===o[0]||""===d[0])),l)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,d=o;else if(o.length)d||(d=[]),d.pop(),d=d.concat(o),n.search=e.search,n.query=e.query;else if(null!=e.search){if(f)n.hostname=n.host=d.shift(),(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift());return n.search=e.search,n.query=e.query,g(n.pathname)&&g(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var p=d.slice(-1)[0],m=(n.host||e.host)&&("."===p||".."===p)||""===p,_=0,v=d.length;v>=0;v--)"."==(p=d[v])?d.splice(v,1):".."===p?(d.splice(v,1),_++):_&&(d.splice(v,1),_--);if(!u&&!c)for(;_--;_)d.unshift("..");!u||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),m&&"/"!==d.join("/").substr(-1)&&d.push("");var j,S=""===d[0]||d[0]&&"/"===d[0].charAt(0);f&&(n.hostname=n.host=S?"":d.length?d.shift():"",(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift()));return(u=u||n.host&&d.length)&&!S&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),g(n.pathname)&&g(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"./node_modules/util/support/isBufferBrowser.js":e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/support/types.js":(e,t,n)=>{"use strict";var o=n("./node_modules/is-arguments/index.js"),r=n("./node_modules/is-generator-function/index.js"),i=n("./node_modules/which-typed-array/index.js"),s=n("./node_modules/is-typed-array/index.js");function a(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,c=a(Object.prototype.toString),d=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),p=a(Boolean.prototype.valueOf);if(l)var h=a(BigInt.prototype.valueOf);if(u)var y=a(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function _(e){return"[object Map]"===c(e)}function b(e){return"[object Set]"===c(e)}function v(e){return"[object WeakMap]"===c(e)}function g(e){return"[object WeakSet]"===c(e)}function j(e){return"[object ArrayBuffer]"===c(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(j.working?j(e):e instanceof ArrayBuffer)}function O(e){return"[object DataView]"===c(e)}function w(e){return"undefined"!=typeof DataView&&(O.working?O(e):e instanceof DataView)}t.isArgumentsObject=o,t.isGeneratorFunction=r,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||w(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},_.working="undefined"!=typeof Map&&_(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(_.working?_(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},g.working="undefined"!=typeof WeakSet&&g(new WeakSet),t.isWeakSet=function(e){return g(e)},j.working="undefined"!=typeof ArrayBuffer&&j(new ArrayBuffer),t.isArrayBuffer=S,O.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&O(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=w;var K="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(e){return"[object SharedArrayBuffer]"===c(e)}function P(e){return void 0!==K&&(void 0===A.working&&(A.working=A(new K)),A.working?A(e):e instanceof K)}function E(e){return m(e,d)}function k(e){return m(e,f)}function T(e){return m(e,p)}function x(e){return l&&m(e,h)}function I(e){return u&&m(e,y)}t.isSharedArrayBuffer=P,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},t.isGeneratorObject=function(e){return"[object Generator]"===c(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},t.isNumberObject=E,t.isStringObject=k,t.isBooleanObject=T,t.isBigIntObject=x,t.isSymbolObject=I,t.isBoxedPrimitive=function(e){return E(e)||k(e)||T(e)||x(e)||I(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||P(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},"./node_modules/util/util.js":(e,t,n)=>{var o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++)n[t[o]]=Object.getOwnPropertyDescriptor(e,t[o]);return n},r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,i=o.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return e}})),a=o[n];n<i;a=o[++n])m(a)||!j(a)?s+=" "+a:s+=" "+l(a);return s},t.deprecate=function(e,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),o=!0}return e.apply(this,arguments)}};var i={},s=/^$/;if(process.env.NODE_DEBUG){var a=process.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function l(e,n){var o={seen:[],stylize:c};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),y(n)?o.showHidden=n:n&&t._extend(o,n),v(o.showHidden)&&(o.showHidden=!1),v(o.depth)&&(o.depth=2),v(o.colors)&&(o.colors=!1),v(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=u),d(o,e,o.depth)}function u(e,t){var n=l.styles[t];return n?"["+l.colors[n][0]+"m"+e+"["+l.colors[n][1]+"m":e}function c(e,t){return e}function d(e,n,o){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(o,e);return b(r)||(r=d(e,r,o)),r}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(_(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),O(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(w(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(g(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var u,c="",j=!1,K=["{","}"];(h(n)&&(j=!0,K=["[","]"]),w(n))&&(c=" [Function"+(n.name?": "+n.name:"")+"]");return g(n)&&(c=" "+RegExp.prototype.toString.call(n)),S(n)&&(c=" "+Date.prototype.toUTCString.call(n)),O(n)&&(c=" "+f(n)),0!==s.length||j&&0!=n.length?o<0?g(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=j?function(e,t,n,o,r){for(var i=[],s=0,a=t.length;s<a;++s)k(t,String(s))?i.push(p(e,t,n,o,String(s),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(p(e,t,n,o,r,!0))})),i}(e,n,o,a,s):s.map((function(t){return p(e,n,o,a,t,j)})),e.seen.pop(),function(e,t,n){var o=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(o>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,c,K)):K[0]+c+K[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,o,r,i){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),k(o,r)||(s="["+r+"]"),a||(e.seen.indexOf(l.value)<0?(a=m(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(i&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function m(e){return null===e}function _(e){return"number"==typeof e}function b(e){return"string"==typeof e}function v(e){return void 0===e}function g(e){return j(e)&&"[object RegExp]"===K(e)}function j(e){return"object"==typeof e&&null!==e}function S(e){return j(e)&&"[object Date]"===K(e)}function O(e){return j(e)&&("[object Error]"===K(e)||e instanceof Error)}function w(e){return"function"==typeof e}function K(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!i[e])if(s.test(e)){var n=process.pid;i[e]=function(){var o=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,o)}}else i[e]=function(){};return i[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n("./node_modules/util/support/types.js"),t.isArray=h,t.isBoolean=y,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=_,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=g,t.types.isRegExp=g,t.isObject=j,t.isDate=S,t.types.isDate=S,t.isError=O,t.types.isNativeError=O,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("./node_modules/util/support/isBufferBrowser.js");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=n("./node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!j(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,o=new Promise((function(e,o){t=e,n=o})),r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);r.push((function(e,o){e?n(e):t(o)}));try{e.apply(this,r)}catch(e){n(e)}return o}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=T,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var r=this,i=function(){return o.apply(r,arguments)};e.apply(this,t).then((function(e){process.nextTick(i.bind(null,null,e))}),(function(e){process.nextTick(x.bind(null,e,i))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},"./node_modules/which-typed-array/index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/for-each/index.js"),r=n("./node_modules/available-typed-arrays/index.js"),i=n("./node_modules/call-bind/index.js"),s=n("./node_modules/call-bind/callBound.js"),a=n("./node_modules/gopd/index.js"),l=s("Object.prototype.toString"),u=n("./node_modules/has-tostringtag/shams.js")(),c="undefined"==typeof globalThis?n.g:globalThis,d=r(),f=s("String.prototype.slice"),p=Object.getPrototypeOf,h=s("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},y={__proto__:null};o(d,u&&a&&p?function(e){var t=new c[e];if(Symbol.toStringTag in t){var n=p(t),o=a(n,Symbol.toStringTag);if(!o){var r=p(n);o=a(r,Symbol.toStringTag)}y["$"+e]=i(o.get)}}:function(e){var t=new c[e];y["$"+e]=i(t.slice)});e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!u){var t=f(l(e),8,-1);return h(d,t)>-1?t:"Object"===t&&function(e){var t=!1;return o(y,(function(n,o){if(!t)try{n(e),t=f(o,1)}catch(e){}})),t}(e)}return a?function(e){var t=!1;return o(y,(function(n,o){if(!t)try{"$"+n(e)===o&&(t=f(o,1))}catch(e){}})),t}(e):null}},"./node_modules/available-typed-arrays/index.js":(e,t,n)=>{"use strict";var o=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],r="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<o.length;t++)"function"==typeof r[o[t]]&&(e[e.length]=o[t]);return e}},"./node_modules/nylas/package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"nylas","version":"6.10.0","description":"A NodeJS wrapper for the Nylas REST API for email, contacts, and calendar.","main":"lib/nylas.js","types":"lib/nylas.d.ts","files":["lib"],"scripts":{"test":"jest","test:coverage":"npm run test -- --coverage","lint":"eslint --ext .js,.ts -f visualstudio .","lint:fix":"npm run lint -- --fix","lint:ci":"npm run lint:fix -- --quiet","lint:prettier":"prettier --write \'**/*.{ts,js}\'","lint:prettier:check":"prettier --check \'**/*.{ts,js}\'","build":"tsc","prepare":"npm run build","watch":"nodemon -w src --exec npm run build"},"jest":{"preset":"ts-jest/presets/js-with-ts","globals":{"ts-jest":{"tsConfig":"tsconfig.test.json"}},"coverageThreshold":{"global":{"functions":80,"lines":80,"statements":80}}},"keywords":["email","contacts","calendar","nylas"],"author":"Nylas, Inc.","license":"MIT","dependencies":{"abort-controller":"^3.0.0","backoff":"^2.5.0","form-data":"^4.0.0","JSONStream":"^1.3.5","node-fetch":"^2.6.1","uuid":"^8.3.2","websocket":"^1.0.34"},"devDependencies":{"@babel/cli":"^7.13.16","@babel/core":"^7.3.3","@babel/plugin-proposal-object-rest-spread":"^7.3.2","@babel/preset-env":"^7.3.1","@types/backoff":"^2.5.1","@types/jest":"^25.1.4","@types/node-fetch":"^2.5.8","@types/uuid":"^8.3.4","@types/websocket":"^1.0.5","@typescript-eslint/eslint-plugin":"^2.25.0","@typescript-eslint/parser":"^2.25.0","babel-eslint":"^10.0.1","eslint":"^5.14.0","eslint-config-prettier":"^4.0.0","eslint-plugin-custom-rules":"^0.0.0","eslint-plugin-prettier":"^3.0.1","jest":"^24.9.0","prettier":"^1.19.1","pretty-format":"^25.2.6","ts-jest":"^25.2.1","typescript":"^3.8.3"},"repository":{"type":"git","url":"https://github.com/nylas/nylas-nodejs.git"}}')}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o={};(()=>{"use strict";n.r(o);var e=n("./node_modules/nylas/lib/nylas.js"),t=n.n(e);document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("startButton"),n=document.getElementById("output"),o=(document.getElementById("audioPlayer"),new webkitSpeechRecognition);t().config({clientId:"7fsxq5ongp718y6yb8ewseifl",clientSecret:"7fsxq5ongp718y6yb8ewseifl"});const r=t().with("dG4v9mUgHwlI23O7pGqWYizRX1rJZT");o.lang="en-US";const i=e=>{const t=new AWS.Polly({region:"ap-south-1",accessKeyId:"AKIATPIZOSLLWZ4JLKX2",secretAccessKey:"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"}),n={Text:e,OutputFormat:"mp3",VoiceId:"Joanna"};try{t.synthesizeSpeech(n,((e,t)=>{if(e)console.error("AWS Polly Error:",e);else{const e=URL.createObjectURL(new Blob([t.AudioStream.buffer],{type:"audio/mp3"}));new Audio(e).play()}}))}catch(e){console.error("AWS Polly Error:",e)}},s=/create event|create new event|please create a new event for me|can you create a new event for me/i;let a=!1,l="",u="";o.onresult=e=>{const t=e.results[0][0].transcript;n.innerHTML=`${t}`,t.toLowerCase().includes("hello")&&i("Welcome to Nylas Calendar. You can create a new event or check today's events."),t.toLowerCase().includes("today's events")&&(i("Today Schedule is"),r.calendars.find("{id}").then((e=>console.log(e)))),s.test(t.toLowerCase())?(i("Please tell calendar title"),a=!0,l=t):a?(l=t,i("Please tell the event date"),a=!1):l&&!u&&(u=t,console.log("Event Title:",l),console.log("Event Date:",u),l="",u="")},e.addEventListener("click",(()=>{o.start()}))}))})()})();
//# sourceMappingURL=code.js.map